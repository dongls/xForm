"use strict";(self.webpackChunkxform=self.webpackChunkxform||[]).push([[931],{557:(e,l,t)=>{t.r(l),t.d(l,{default:()=>Bt});var n=t(6252),a={class:"xform-setting"},r=(0,n._)("header",null,"标题后缀：",-1),o={class:"xform-setting"},u=(0,n._)("header",null,"空值显示为：",-1),i={class:"xform-setting"},d=(0,n._)("header",null,"标题位置：",-1),s=(0,n.Uk)("左对齐"),c=(0,n.Uk)("顶部对齐"),f=(0,n.Uk)("右对齐");t(2479),t(6699),t(2023);var p=t(1965),m=t(3477),v=(0,p.hS)(),b=v.EVENTS,g=v.LabelPosition,y=Object.values(g);const V=(0,n.aZ)({name:"xform-el-setting",props:{schema:{type:p.GH,required:!0}},emits:[b.UPDATE_PROP],setup:function(){return{LabelPosition:g,labelPosition:(0,m.yj)("labelPosition",(function(e){var l=e.labelPosition;return y.includes(l)?l:g.LEFT})),labelSuffix:(0,m.yj)("labelSuffix"),viewerPlaceholder:(0,m.yj)("viewerPlaceholder")}}});var w=t(3744);const h=(0,w.Z)(V,[["render",function(e,l,t,p,m,v){var b=(0,n.up)("el-input"),g=(0,n.up)("el-radio-button"),y=(0,n.up)("el-radio-group");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("section",a,[r,(0,n.Wm)(b,{modelValue:e.labelSuffix,"onUpdate:modelValue":l[0]||(l[0]=function(l){return e.labelSuffix=l}),size:"small",placeholder:"请输入标题后缀..."},null,8,["modelValue"])]),(0,n._)("section",o,[u,(0,n.Wm)(b,{modelValue:e.viewerPlaceholder,"onUpdate:modelValue":l[1]||(l[1]=function(l){return e.viewerPlaceholder=l}),size:"small",placeholder:"查看表单时如果值为空，则显示输入值"},null,8,["modelValue"])]),(0,n._)("section",i,[d,(0,n.Wm)(y,{modelValue:e.labelPosition,"onUpdate:modelValue":l[2]||(l[2]=function(l){return e.labelPosition=l}),size:"small"},{default:(0,n.w5)((function(){return[(0,n.Wm)(g,{label:e.LabelPosition.LEFT},{default:(0,n.w5)((function(){return[s]})),_:1},8,["label"]),(0,n.Wm)(g,{label:e.LabelPosition.TOP},{default:(0,n.w5)((function(){return[c]})),_:1},8,["label"]),(0,n.Wm)(g,{label:e.LabelPosition.RIGHT},{default:(0,n.w5)((function(){return[f]})),_:1},8,["label"])]})),_:1},8,["modelValue"])])],64)}]]);t(1539),t(8674),t(9753);var P=t(1683),_=(t(8309),t(3577));var E=t(2262);const x=(0,n.aZ)({name:"xform-el-checkbox",props:{field:{type:p.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e){return{value:(0,m.Hg)([]),className:(0,E.Fl)((function(){var l=["xform-el-checkbox"];return"block"==e.field.attributes.layout&&l.push("xform-el-checkbox-block"),l}))}}}),O=(0,w.Z)(x,[["render",function(e,l,t,a,r,o){var u=(0,n.up)("el-checkbox"),i=(0,n.up)("el-checkbox-group");return(0,n.wg)(),(0,n.j4)(i,{modelValue:e.value,"onUpdate:modelValue":l[0]||(l[0]=function(l){return e.value=l}),size:"small",disabled:e.disabled||e.field.disabled,class:(0,_.C_)(e.className)},{default:(0,n.w5)((function(){return[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.field.options,(function(l,t){return(0,n.wg)(),(0,n.j4)(u,{key:t,label:l.value,name:e.field.name},null,8,["label","name"])})),128))]})),_:1},8,["modelValue","disabled","class"])}]]);var j={class:"xform-el-field-setting-prop"},k=(0,n._)("header",null,"布局：",-1),T=(0,n.Uk)("行内"),W=(0,n.Uk)("换行"),S={class:"xform-el-field-setting-prop"},U=(0,n._)("header",null,"选项：",-1),D=(0,n.Uk)("删除"),C=(0,n.Uk)("添加选项"),Z={class:"xform-el-field-setting-prop"},I=(0,n._)("header",null,"默认值：",-1);t(7327),t(5212),t(9070),t(7941),t(2526),t(5003),t(9554),t(4747),t(9337),t(3321);var L={class:"xform-el-field-setting-head"},R={class:"xform-el-field-setting-prop"},N=(0,n._)("header",null,"标题：",-1),z={key:0,class:"xform-el-field-setting-prop"},A=(0,n._)("header",null,"提示：",-1),M={key:1,class:"xform-el-field-setting-prop"},Y=(0,n._)("header",null,"属性：",-1),q=(0,n.Uk)("必填"),B=(0,n.Uk)("禁用"),H=(0,n.Uk)("隐藏");const F=(0,n.aZ)({name:"field-logic"}),K=(0,w.Z)(F,[["render",function(e,l,t,a,r,o){return(0,n.wg)(),(0,n.iD)("div",null,"field logic")}]]);const Q=(0,n.aZ)({name:"field-setting",props:{field:{type:p.Wi,required:!0},placeholder:{type:Boolean,default:!0},required:{type:Boolean,default:!0},logic:{type:Boolean,default:!0},attributes:{type:Boolean,default:!0}},setup:function(e){return{fieldRef:(0,E.Vh)(e,"field"),allowLogic:!1}},components:(X={},G=K.name,J=K,G in X?Object.defineProperty(X,G,{value:J,enumerable:!0,configurable:!0,writable:!0}):X[G]=J,X)});var X,G,J;const $=(0,w.Z)(Q,[["render",function(e,l,t,a,r,o){var u=(0,n.up)("el-input"),i=(0,n.up)("el-checkbox"),d=(0,n.up)("field-logic");return(0,n.wg)(),(0,n.iD)("div",{class:(0,_.C_)("xform-el-field-setting xform-el-".concat(e.fieldRef.type,"-setting"))},[(0,n._)("h3",L,(0,_.zw)(e.field.conf.title),1),(0,n._)("section",R,[N,(0,n.Wm)(u,{size:"small",placeholder:"[必填] 请输入标题...",modelValue:e.fieldRef.title,"onUpdate:modelValue":l[0]||(l[0]=function(l){return e.fieldRef.title=l})},null,8,["modelValue"])]),e.placeholder?((0,n.wg)(),(0,n.iD)("section",z,[A,(0,n.Wm)(u,{type:"textarea",size:"small",placeholder:"[可选] 请输入提示信息...",rows:"3",modelValue:e.fieldRef.placeholder,"onUpdate:modelValue":l[1]||(l[1]=function(l){return e.fieldRef.placeholder=l})},null,8,["modelValue"])])):(0,n.kq)("",!0),e.attributes?((0,n.wg)(),(0,n.iD)("section",M,[Y,e.required?((0,n.wg)(),(0,n.j4)(i,{key:0,size:"small",modelValue:e.fieldRef.required,"onUpdate:modelValue":l[2]||(l[2]=function(l){return e.fieldRef.required=l}),name:"".concat(e.field.name,"-required"),title:"勾选则该字段在表单提交时必须填写"},{default:(0,n.w5)((function(){return[q]})),_:1},8,["modelValue","name"])):(0,n.kq)("",!0),(0,n.Wm)(i,{size:"small",modelValue:e.fieldRef.disabled,"onUpdate:modelValue":l[3]||(l[3]=function(l){return e.fieldRef.disabled=l}),name:"".concat(e.field.name,"-disabled"),title:"勾选则该字段在表单中无法编辑, 也不参与表单验证"},{default:(0,n.w5)((function(){return[B]})),_:1},8,["modelValue","name"]),(0,n.Wm)(i,{size:"small",modelValue:e.fieldRef.hidden,"onUpdate:modelValue":l[4]||(l[4]=function(l){return e.fieldRef.hidden=l}),name:"".concat(e.field.name,"-hidden"),title:"勾选则该字段将不会再表单中显示"},{default:(0,n.w5)((function(){return[H]})),_:1},8,["modelValue","name"]),(0,n.WI)(e.$slots,"attributes")])):(0,n.kq)("",!0),(0,n.WI)(e.$slots,"default"),e.allowLogic?((0,n.wg)(),(0,n.j4)(d,{key:2,field:e.fieldRef,"onUpdate:field":l[5]||(l[5]=function(l){return e.fieldRef=l})},null,8,["field"])):(0,n.kq)("",!0)],2)}]]);function ee(e,l){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);l&&(n=n.filter((function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),t.push.apply(t,n)}return t}function le(e,l,t){return l in e?Object.defineProperty(e,l,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[l]=t,e}var te=(0,p.hS)(),ne=te.BuiltInDefaultValueType,ae=te.EVENTS;const re=(0,n.aZ)({name:"xform-el-checkbox-setting",props:{field:p.Wi},emits:[ae.UPDATE_FIELD],setup:function(){var e=[{value:ne.MANUAL,label:"手动指定"},{value:ne.OPTION_ALL,label:"全部选项"}],l=(0,m.D2)((function(){if(!n.value)return;var e=l.options.value,t=r.value;r.value=t.filter((function(l){return e.some((function(e){return e.value==l}))}))})),t=(0,m.Xu)(e),n=t.useIsManual(),a=t.useCompatType(),r=t.useCompatValue((function(e){var l=e.value;return Array.isArray(l)?l:[]}));return function(e){for(var l=1;l<arguments.length;l++){var t=null!=arguments[l]?arguments[l]:{};l%2?ee(Object(t),!0).forEach((function(l){le(e,l,t[l])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ee(Object(t)).forEach((function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(t,l))}))}return e}({compatType:a,compatValue:r,defTypes:e,isManual:n,layout:(0,m.Et)("layout","attributes")},l)},components:le({},$.name,$)}),oe={classes:{defaultValue:"jMICAHZCJ87pgWcwZ34J",compatType:"wlh7YR7IhZS7VbmDgZ1E",compatValue:"h1dfSYVBHeQw8m6LWLQU"}},ue=(0,w.Z)(re,[["render",function(e,l,t,a,r,o){var u=(0,n.up)("el-radio-button"),i=(0,n.up)("el-radio-group"),d=(0,n.up)("el-input"),s=(0,n.up)("el-button"),c=(0,n.up)("el-option"),f=(0,n.up)("el-select"),p=(0,n.up)("field-setting");return(0,n.wg)(),(0,n.j4)(p,{field:e.field,placeholder:!1},{default:(0,n.w5)((function(){return[(0,n._)("section",j,[k,(0,n.Wm)(i,{modelValue:e.layout,"onUpdate:modelValue":l[0]||(l[0]=function(l){return e.layout=l}),size:"small"},{default:(0,n.w5)((function(){return[(0,n.Wm)(u,{label:"inline"},{default:(0,n.w5)((function(){return[T]})),_:1}),(0,n.Wm)(u,{label:"block"},{default:(0,n.w5)((function(){return[W]})),_:1})]})),_:1},8,["modelValue"])]),(0,n._)("section",S,[U,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.options,(function(l,t){return(0,n.wg)(),(0,n.iD)("div",{key:t,class:"xform-el-setting-option"},[(0,n.Wm)(d,{modelValue:l.value,"onUpdate:modelValue":function(e){return l.value=e},size:"small",placeholder:"请输入选项内容"},null,8,["modelValue","onUpdate:modelValue"]),(0,n.Wm)(s,{type:"danger",size:"small",plain:"",onClick:function(t){return e.removeOption(l)},disabled:e.field.options.length<=1},{default:(0,n.w5)((function(){return[D]})),_:2},1032,["onClick","disabled"])])})),128)),(0,n.Wm)(s,{type:"primary",size:"small",onClick:e.addOption,plain:""},{default:(0,n.w5)((function(){return[C]})),_:1},8,["onClick"])]),(0,n._)("section",Z,[I,(0,n._)("div",{class:(0,_.C_)(e.classes.defaultValue)},[(0,n.Wm)(f,{modelValue:e.compatType,"onUpdate:modelValue":l[1]||(l[1]=function(l){return e.compatType=l}),size:"small",class:(0,_.C_)(e.classes.compatType)},{default:(0,n.w5)((function(){return[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.defTypes,(function(e,l){return(0,n.wg)(),(0,n.j4)(c,{key:l,value:e.value,label:e.label||e.value},null,8,["value","label"])})),128))]})),_:1},8,["modelValue","class"]),e.isManual?((0,n.wg)(),(0,n.j4)(f,{key:0,modelValue:e.compatValue,"onUpdate:modelValue":l[2]||(l[2]=function(l){return e.compatValue=l}),class:(0,_.C_)(e.classes.compatValue),size:"small",placeholder:"请选择",clearable:"",multiple:"","collapse-tags":""},{default:(0,n.w5)((function(){return[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.options,(function(e,l){return(0,n.wg)(),(0,n.j4)(c,{key:l,value:e.value,label:e.label||e.value},null,8,["value","label"])})),128))]})),_:1},8,["modelValue","class"])):(0,n.kq)("",!0)],2)])]})),_:1},8,["field"])}],["__cssModules",oe]]);var ie=(0,p.hS)().BuiltInLogicOperator;const de=p.w1.create({icon:P.Z,type:"checkbox",title:"多选",setting:ue,build:O,validator:function(e,l){return e.required&&(0,p.xb)(l)?Promise.reject("必填"):Promise.resolve()},onCreate:function(e,l,t){var n=Array.isArray(l.options)?l.options:[];t&&(n.push({value:"选项1"}),e.attributes.layout="inline"),e.options=n},operators:[ie.EQ,ie.NE,ie.EMPTY,ie.CONTAINS]});var se=t(6113);const ce=(0,n.aZ)({name:"xform-el-date",props:{field:{type:p.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(){return{value:(0,m.Hg)(),popperOptions:{placement:"bottom-start"}}}}),fe=(0,w.Z)(ce,[["render",function(e,l,t,a,r,o){var u=(0,n.up)("el-date-picker");return(0,n.wg)(),(0,n.j4)(u,{modelValue:e.value,"onUpdate:modelValue":l[0]||(l[0]=function(l){return e.value=l}),name:e.field.name,placeholder:e.field.placeholder,disabled:e.disabled||e.field.disabled,format:e.field.attributes.format,"value-format":e.field.attributes.valueFormat,editable:!1,"popper-options":e.popperOptions,class:"xform-el-date",size:"small"},null,8,["modelValue","name","placeholder","disabled","format","value-format","popper-options"])}]]);var pe={class:"xform-el-field-setting-prop"},me=(0,n._)("header",null,"默认值：",-1);var ve=(0,p.hS)(),be=ve.BuiltInDefaultValueType,ge=ve.EVENTS;const ye=(0,n.aZ)({name:"xform-el-date-setting",props:{field:p.Wi},emits:[ge.UPDATE_FIELD],setup:function(){var e=[{value:be.MANUAL,label:"手动指定"},{value:be.DATE_NOW,label:"当前时间"}],l=(0,m.Xu)(e);return{isManual:l.useIsManual(),compatType:l.useCompatType(),compatValue:l.useCompatValue(),defTypes:e,popperOptions:{placement:"bottom-end"}}},components:function(e,l,t){return l in e?Object.defineProperty(e,l,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[l]=t,e}({},$.name,$)}),Ve={classes:{defaultValue:"rLolytKPeV2gxknHqTnI"}},we=(0,w.Z)(ye,[["render",function(e,l,t,a,r,o){var u=(0,n.up)("el-option"),i=(0,n.up)("el-select"),d=(0,n.up)("el-date-picker"),s=(0,n.up)("field-setting");return(0,n.wg)(),(0,n.j4)(s,{field:e.field},{default:(0,n.w5)((function(){return[(0,n._)("section",pe,[me,(0,n._)("div",{class:(0,_.C_)(e.classes.defaultValue)},[(0,n.Wm)(i,{modelValue:e.compatType,"onUpdate:modelValue":l[0]||(l[0]=function(l){return e.compatType=l}),size:"small"},{default:(0,n.w5)((function(){return[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.defTypes,(function(e,l){return(0,n.wg)(),(0,n.j4)(u,{key:l,value:e.value,label:e.label||e.value},null,8,["value","label"])})),128))]})),_:1},8,["modelValue"]),e.isManual?((0,n.wg)(),(0,n.j4)(d,{key:0,modelValue:e.compatValue,"onUpdate:modelValue":l[1]||(l[1]=function(l){return e.compatValue=l}),placeholder:"请选择默认时间",size:"small",format:e.field.attributes.format,"value-format":e.field.attributes.valueFormat,editable:!1,"popper-options":e.popperOptions},null,8,["modelValue","format","value-format","popper-options"])):(0,n.kq)("",!0)],2)])]})),_:1},8,["field"])}],["__cssModules",Ve]]);var he=(0,p.hS)().BuiltInLogicOperator;const Pe=p.w1.create({icon:se.Z,type:"date",title:"日期",setting:we,build:fe,onCreate:function(e){var l,t;e.attributes.format=null!==(l=e.attributes.format)&&void 0!==l?l:"YYYY-MM-DD",e.attributes.valueFormat=null!==(t=e.attributes.format)&&void 0!==t?t:"YYYY-MM-DD"},validator:function(e,l){return e.required&&(0,p.xb)(l)?Promise.reject("必填"):Promise.resolve()},operators:[he.LT,he.LTE,he.GT,he.GTE,he.EQ,he.NE,he.EMPTY]});var _e=t(2209);var Ee=t(1302);const xe=(0,n.aZ)({name:"xform-el-divider",inheritAttrs:!1,props:{field:{type:p.Wi,required:!0}},components:function(e,l,t){return l in e?Object.defineProperty(e,l,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[l]=t,e}({},Ee.Z.name,Ee.Z)}),Oe=(0,w.Z)(xe,[["render",function(e,l,t,a,r,o){var u=(0,n.up)("xform-divider");return(0,n.wg)(),(0,n.j4)(u,{class:"xform-item xform-el-divider",title:e.field.title,layout:e.field.attributes.layout,type:e.field.attributes.type,top:e.field.attributes.top,bottom:e.field.attributes.bottom},null,8,["title","layout","type","top","bottom"])}]]);var je,ke={class:"xform-el-field-setting-prop xform-divider-types"},Te=(0,n._)("header",null,"样式：",-1),We={class:"xform-el-field-setting-prop"},Se=(0,n._)("header",null,"间距：",-1),Ue={class:"xform-el-divider-range"},De=(0,n._)("label",null,"上间距：",-1),Ce={class:"xform-el-divider-range"},Ze=(0,n._)("label",null,"下间距：",-1);function Ie(e,l,t){return l in e?Object.defineProperty(e,l,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[l]=t,e}var Le=(0,p.hS)().EVENTS;const Re=(0,n.aZ)({name:"xform-el-divider-setting",props:{field:p.Wi},emits:[Le.UPDATE_FIELD],setup:function(){return{types:["solid","dashed","double","solid-dashed","dashed-solid"],compatType:(0,m.Et)("type","attributes"),compatTop:(0,m.Et)("top","attributes"),compatBottom:(0,m.Et)("bottom","attributes")}},components:(je={},Ie(je,Ee.Z.name,Ee.Z),Ie(je,$.name,$),je)}),Ne=(0,w.Z)(Re,[["render",function(e,l,t,a,r,o){var u=(0,n.up)("xform-divider"),i=(0,n.up)("el-radio"),d=(0,n.up)("el-slider"),s=(0,n.up)("field-setting");return(0,n.wg)(),(0,n.j4)(s,{field:e.field,placeholder:!1,attributes:!1},{default:(0,n.w5)((function(){return[(0,n._)("section",ke,[Te,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.types,(function(t){return(0,n.wg)(),(0,n.j4)(i,{key:t,modelValue:e.compatType,"onUpdate:modelValue":l[0]||(l[0]=function(l){return e.compatType=l}),name:"setting-divider-type",label:t},{default:(0,n.w5)((function(){return[(0,n.Wm)(u,{type:t},null,8,["type"])]})),_:2},1032,["modelValue","label"])})),128))]),(0,n._)("section",We,[Se,(0,n._)("div",Ue,[De,(0,n.Wm)(d,{modelValue:e.compatTop,"onUpdate:modelValue":l[1]||(l[1]=function(l){return e.compatTop=l}),min:0,max:100,step:5,"show-stops":""},null,8,["modelValue"])]),(0,n._)("div",Ce,[Ze,(0,n.Wm)(d,{modelValue:e.compatBottom,"onUpdate:modelValue":l[2]||(l[2]=function(l){return e.compatBottom=l}),min:0,max:100,step:5,"show-stops":""},null,8,["modelValue"])])])]})),_:1},8,["field"])}]]),ze=p.w1.create({icon:_e.Z,type:"divider",title:"分割线",custom:!0,setting:Ne,build:Oe,view:Oe,onCreate:function(e,l,t){t&&(e.attributes.type="solid",e.attributes.top=0,e.attributes.bottom=0)},operators:!1});t(1249),t(5827),t(4819),t(3593),t(6992),t(7314),t(8783),t(3948),t(1817),t(2165);var Ae=t(1993),Me=(0,n.Uk)("允许收起");var Ye=(0,p.hS)().EVENTS;const qe=(0,n.aZ)({name:"xform-el-group-setting",props:{field:p.Wi},emits:[Ye.UPDATE_FIELD],setup:function(){return{collapsable:(0,m.Et)("collapsable","attributes")}},components:function(e,l,t){return l in e?Object.defineProperty(e,l,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[l]=t,e}({},$.name,$)}),Be=(0,w.Z)(qe,[["render",function(e,l,t,a,r,o){var u=(0,n.up)("el-checkbox"),i=(0,n.up)("field-setting");return(0,n.wg)(),(0,n.j4)(i,{field:e.field,placeholder:!1,required:!1},{attributes:(0,n.w5)((function(){return[(0,n.Wm)(u,{name:"".concat(e.field.name,"-collapsable"),modelValue:e.collapsable,"onUpdate:modelValue":l[0]||(l[0]=function(l){return e.collapsable=l}),title:"勾选则支持展开/收起分组"},{default:(0,n.w5)((function(){return[Me]})),_:1},8,["name","modelValue"])]})),_:1},8,["field"])}]]);function He(e){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(e)}function Fe(e,l,t){return l in e?Object.defineProperty(e,l,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[l]=t,e}var Ke=(0,p.hS)(),Qe=Ke.SELECTOR,Xe=Ke.CLASS,Ge=Ke.EnumBehavior,Je=Ke.PROPS,$e=Ke.EnumValidateMode,el=Ke.EnumValidityState,ll="xform-el-group-list",tl=".".concat(ll);function nl(){var e=(0,E.iH)(!1);function l(){e.value=!e.value}return{collasped:e,renderHeader:function(t){if(null==t.title)return null;var a=!0===t.attributes.collapsable?(0,n.Wm)((0,n.up)("el-button"),{type:"text",title:e.value?"展开":"收起",onClick:l,size:"small","auto-insert-space":!1},{default:function(){return[e.value?"展开":"收起"]}}):null;return(0,n.Wm)("div",{class:"xform-el-card-header"},[(0,n.Wm)("h3",null,[t.title]),a])}}}var al=(0,n.aZ)({name:"xform-el-group",props:{field:{type:p.Wi,required:!0},behavior:{type:String,default:null},disabled:{type:Boolean,default:!1}},setup:function(e){var l=nl(),t=l.collasped,a=l.renderHeader,r=(0,p.j9)().renderField;return function(){var l,o,u=e.field.value,i=e.field.fields,d=e.behavior==Ge.DESIGNER,s=e.field.validation.message,c=e.disabled,f=Fe({"xform-item":!0,"xform-el-group":!0,"xform-is-collasped":t.value},Xe.IS_ERROR,e.field.validation.valid==el.ERROR),p=d&&0==i.length?(0,n.Wm)("p",{class:[Xe.IS_EMPTY_TIP,"xform-el-empty-tip"]},[(0,n.Uk)("请将左侧控件拖动到此处")]):null,m=i.map((function(e){return r(d?e:u[e.name],{parentProps:{disabled:c}})})),v=(o={class:(l={},Fe(l,ll,!0),Fe(l,Xe.DROPPABLE,d),Fe(l,Xe.SCOPE,!0),l)},Fe(o,"."+Je.FIELD,d?e.field:void 0),Fe(o,"."+Je.SCOPE,e.field),o),b={header:function(){return a(e.field)},default:function(){return(0,n.Wm)("div",v,[p,m])}};return(0,n.Wm)("div",{class:f},[(0,n.Wm)((0,n.up)("el-card"),{shadow:d?"never":"hover"},b),s&&(0,n.Wm)("p",{class:"xform-item-message"},[s])])}}}),rl=(0,n.aZ)({name:"xform-el-group-view",props:{field:{type:p.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e){var l=(0,p.j9)().renderField,t=nl(),a=t.collasped,r=t.renderHeader;return function(){var t=e.field.value,o=e.field.fields,u={"xform-item":!0,"xform-el-group":!0,"xform-is-collasped":a.value},i={header:function(){return r(e.field)},default:function(){return o.map((function(n){return l(t[n.name],{parentProps:{disabled:e.disabled}})}))}};return(0,n.Wm)("div",{class:u},[(0,n.Wm)((0,n.up)("el-card"),{shadow:"hover"},i)])}}});const ol=p.w1.create({icon:Ae.Z,type:"group",title:"分组",custom:!0,preview:al,setting:Be,build:al,view:rl,onDragOver:function(e){var l=e.currentTarget;if(l.matches(tl)){e.stopPropagation(),e.preventDefault();var t=e.context,n=t.directionY,a=t.moveMarkEl,r=e.dragElement.contains(l);a(n,r?e.dragElement:e.target,r?e.dragElement.parentElement.closest(Qe.DROPPABLE):l)}},onDrop:function(e){e.currentTarget.matches(Qe.SCOPE)&&e.stopPropagation()},onValueInit:function(e,l){var t=null==l||"object"!=He(l)?{}:l;return e.fields.reduce((function(l,n){var a,r=n.clone(!0);return r.setValue(null!==(a=t[n.name])&&void 0!==a?a:null),r.setParent(e),l[n.name]=r,l}),{})},onValueSubmit:function(e){var l=e.value;return null==l||"object"!=He(l)||0==Object.keys(l).length?null:e.fields.map((function(e){return e.name})).reduce((function(e,t){var n=Reflect.get(l,t,l);if(null!=n){var a=n.conf,r="function"==typeof(null==a?void 0:a.onValueSubmit)?a.onValueSubmit(n):n.value;Reflect.set(e,t,r,e)}return e}),{})},validator:function(e,l,t){var n=e.value,a=Object.keys(n).map((function(e){var l=n[e];return t.mode==$e.RECURSIVE?l.validate({mode:$e.RECURSIVE}):l.invalid?Promise.reject():Promise.resolve()}));return Promise.allSettled(a).then((function(e){return e.some((function(e){return"rejected"===e.status}))?Promise.reject("请补全必填内容"):Promise.resolve()}))},operators:!1});t(4916);var ul=t(4874),il=(0,n._)("span",null,"默认值：",-1),dl=(0,n.Uk)("清除"),sl=(0,n.Uk)("整数");t(9653);var cl=(0,p.hS)().EVENTS;const fl=(0,n.aZ)({name:"xform-el-number-setting",props:{field:p.Wi},emits:[cl.UPDATE_FIELD],setup:function(e){var l=(0,m.Xu)(),t=(0,E.iH)(1),a=(0,m.Et)("integer","attributes"),r=l.useCompatValue((function(e){var l=e.value;return"number"==typeof l?l:(0,p.xb)(l)?NaN:Number(l)}));return(0,n.YP)(a,(function(e){if(e){var l=r.value;isNaN(l)||(r.value=Math.round(l))}})),{integer:a,compatValue:r,version:t,updateValue:function(l){if(!(!0===e.field.attributes.integer))return r.value=l;r.value=Math.round(l),t.value++},clearDefaultValue:function(){r.value=null,t.value++}}},components:function(e,l,t){return l in e?Object.defineProperty(e,l,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[l]=t,e}({},$.name,$)}),pl={classes:{propDefaultValue:"v1BlFbPnjyDymRpFgPUx"}},ml=(0,w.Z)(fl,[["render",function(e,l,t,a,r,o){var u=(0,n.up)("el-button"),i=(0,n.up)("el-input-number"),d=(0,n.up)("el-checkbox"),s=(0,n.up)("field-setting");return(0,n.wg)(),(0,n.j4)(s,{field:e.field},{attributes:(0,n.w5)((function(){return[(0,n.Wm)(d,{title:"勾选则只允许输入整数",modelValue:e.integer,"onUpdate:modelValue":l[0]||(l[0]=function(l){return e.integer=l})},{default:(0,n.w5)((function(){return[sl]})),_:1},8,["modelValue"])]})),default:(0,n.w5)((function(){return[(0,n._)("section",{class:(0,_.C_)(["xform-el-field-setting-prop",e.classes.propDefaultValue])},[(0,n._)("header",null,[il,(0,n.Wm)(u,{onClick:e.clearDefaultValue,size:"small",type:"text","auto-insert-space":!1},{default:(0,n.w5)((function(){return[dl]})),_:1},8,["onClick"])]),(0,n.Wm)(i,{"model-value":e.compatValue,key:e.version,size:"small",placeholder:"[可选] 如果字段没有填写，默认为设定的值","controls-position":"right","onUpdate:modelValue":e.updateValue},null,8,["model-value","onUpdate:modelValue"])],2)]})),_:1},8,["field"])}],["__cssModules",pl]]);const vl=(0,n.aZ)({name:"xform-el-number",props:{field:{type:p.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e){var l=(0,E.iH)(1),t=(0,m.Hg)(NaN);return{value:t,version:l,updateValue:function(n){if(!(!0===e.field.attributes.integer))return t.value=n;t.value=Math.round(n),l.value++}}}}),bl=(0,w.Z)(vl,[["render",function(e,l,t,a,r,o){var u=(0,n.up)("el-input-number");return(0,n.wg)(),(0,n.j4)(u,{key:e.version,id:e.field.uid,name:e.field.name,"model-value":e.value,placeholder:e.field.placeholder,disabled:e.disabled||e.field.disabled,"controls-position":"right",class:"xform-el-number",size:"small","onUpdate:modelValue":e.updateValue},null,8,["id","name","model-value","placeholder","disabled","onUpdate:modelValue"])}]]);var gl=(0,p.hS)().BuiltInLogicOperator;const yl=p.w1.create({icon:ul.Z,type:"number",title:"数字",setting:ml,build:bl,validator:function(e,l){return e.required&&(0,p.xb)(l)?Promise.reject("必填"):e.attributes.integer&&!/^[-+]?[1-9]?\d+$/.test(l+"")?Promise.reject("请输入整数"):Promise.resolve()},operators:[gl.LT,gl.LTE,gl.GT,gl.GTE,gl.EQ,gl.NE,gl.EMPTY]});var Vl=t(3684);const wl=(0,n.aZ)({name:"xform-el-radio",props:{field:{type:p.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e){return{value:(0,m.Hg)(),className:(0,E.Fl)((function(){var l=["xform-el-radio"];return"block"==e.field.attributes.layout&&l.push("xform-el-radio-block"),l}))}}}),hl=(0,w.Z)(wl,[["render",function(e,l,t,a,r,o){var u=(0,n.up)("el-radio"),i=(0,n.up)("el-radio-group");return(0,n.wg)(),(0,n.j4)(i,{modelValue:e.value,"onUpdate:modelValue":l[0]||(l[0]=function(l){return e.value=l}),size:"small",disabled:e.disabled||e.field.disabled,class:(0,_.C_)(e.className)},{default:(0,n.w5)((function(){return[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.field.options,(function(l,t){return(0,n.wg)(),(0,n.j4)(u,{key:t,label:l.value,name:e.field.name},null,8,["label","name"])})),128))]})),_:1},8,["modelValue","disabled","class"])}]]);var Pl={class:"xform-el-field-setting-prop"},_l=(0,n._)("header",null,"布局：",-1),El=(0,n.Uk)("行内"),xl=(0,n.Uk)("换行"),Ol={class:"xform-el-field-setting-prop"},jl=(0,n._)("header",null,"选项：",-1),kl=(0,n.Uk)("删除"),Tl=(0,n.Uk)("添加选项"),Wl={class:"xform-el-field-setting-prop"},Sl=(0,n._)("header",null,"默认值：",-1);function Ul(e,l){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);l&&(n=n.filter((function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),t.push.apply(t,n)}return t}function Dl(e,l,t){return l in e?Object.defineProperty(e,l,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[l]=t,e}var Cl=(0,p.hS)(),Zl=Cl.BuiltInDefaultValueType,Il=Cl.EVENTS;const Ll=(0,n.aZ)({name:"xform-el-radio-setting",props:{field:p.Wi},emits:[Il.UPDATE_FIELD],setup:function(){var e=[{value:Zl.MANUAL,label:"手动指定"},{value:Zl.OPTION_FIRST,label:"首选项"}],l=(0,m.D2)((function(){if(!n.value)return;var e=l.options.value,t=r.value;r.value=e.some((function(e){return e.value==t}))?t:void 0})),t=(0,m.Xu)(e),n=t.useIsManual(),a=t.useCompatType(),r=t.useCompatValue((function(e){return e.value||""}));return function(e){for(var l=1;l<arguments.length;l++){var t=null!=arguments[l]?arguments[l]:{};l%2?Ul(Object(t),!0).forEach((function(l){Dl(e,l,t[l])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ul(Object(t)).forEach((function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(t,l))}))}return e}({compatType:a,compatValue:r,defTypes:e,isManual:n,layout:(0,m.Et)("layout","attributes")},l)},components:Dl({},$.name,$)}),Rl={classes:{defaultValue:"X6wdNocBaY31i2woKQGN",compatType:"ETLAPFW362LkeHbxsKdL",compatValue:"Yc5l7ja6KgCwqlu7wx6U"}},Nl=(0,w.Z)(Ll,[["render",function(e,l,t,a,r,o){var u=(0,n.up)("el-radio-button"),i=(0,n.up)("el-radio-group"),d=(0,n.up)("el-input"),s=(0,n.up)("el-button"),c=(0,n.up)("el-option"),f=(0,n.up)("el-select"),p=(0,n.up)("field-setting");return(0,n.wg)(),(0,n.j4)(p,{field:e.field,placeholder:!1},{default:(0,n.w5)((function(){return[(0,n._)("section",Pl,[_l,(0,n.Wm)(i,{modelValue:e.layout,"onUpdate:modelValue":l[0]||(l[0]=function(l){return e.layout=l}),size:"small"},{default:(0,n.w5)((function(){return[(0,n.Wm)(u,{label:"inline"},{default:(0,n.w5)((function(){return[El]})),_:1}),(0,n.Wm)(u,{label:"block"},{default:(0,n.w5)((function(){return[xl]})),_:1})]})),_:1},8,["modelValue"])]),(0,n._)("section",Ol,[jl,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.options,(function(l,t){return(0,n.wg)(),(0,n.iD)("div",{key:t,class:"xform-el-setting-option"},[(0,n.Wm)(d,{modelValue:l.value,"onUpdate:modelValue":function(e){return l.value=e},size:"small",placeholder:"请输入选项内容"},null,8,["modelValue","onUpdate:modelValue"]),(0,n.Wm)(s,{type:"danger",size:"small",plain:"",onClick:function(t){return e.removeOption(l)},disabled:e.field.options.length<=1},{default:(0,n.w5)((function(){return[kl]})),_:2},1032,["onClick","disabled"])])})),128)),(0,n.Wm)(s,{type:"primary",size:"small",onClick:e.addOption,plain:""},{default:(0,n.w5)((function(){return[Tl]})),_:1},8,["onClick"])]),(0,n._)("section",Wl,[Sl,(0,n._)("div",{class:(0,_.C_)(e.classes.defaultValue)},[(0,n.Wm)(f,{modelValue:e.compatType,"onUpdate:modelValue":l[1]||(l[1]=function(l){return e.compatType=l}),size:"small",class:(0,_.C_)(e.classes.compatType)},{default:(0,n.w5)((function(){return[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.defTypes,(function(e,l){return(0,n.wg)(),(0,n.j4)(c,{key:l,value:e.value,label:e.label||e.value},null,8,["value","label"])})),128))]})),_:1},8,["modelValue","class"]),e.isManual?((0,n.wg)(),(0,n.j4)(f,{key:0,modelValue:e.compatValue,"onUpdate:modelValue":l[2]||(l[2]=function(l){return e.compatValue=l}),class:(0,_.C_)(e.classes.compatValue),size:"small",placeholder:"请选择",clearable:""},{default:(0,n.w5)((function(){return[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.options,(function(e,l){return(0,n.wg)(),(0,n.j4)(c,{key:l,value:e.value,label:e.label||e.value},null,8,["value","label"])})),128))]})),_:1},8,["modelValue","class"])):(0,n.kq)("",!0)],2)])]})),_:1},8,["field"])}],["__cssModules",Rl]]);var zl=(0,p.hS)().BuiltInLogicOperator;const Al=p.w1.create({icon:Vl.Z,type:"radio",title:"单选",setting:Nl,build:hl,validator:function(e,l){return e.required&&(0,p.xb)(l)?Promise.reject("必填"):Promise.resolve()},onCreate:function(e,l,t){var n=Array.isArray(l.options)?l.options:[];t&&(n.push({value:"选项1"}),e.attributes.layout="inline"),e.options=n},operators:[zl.EQ,zl.NE,zl.EMPTY,zl.CONTAINS]});var Ml=t(1871);const Yl=(0,n.aZ)({name:"xform-el-select",props:{field:{type:p.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(){return{value:(0,m.Hg)()}}}),ql=(0,w.Z)(Yl,[["render",function(e,l,t,a,r,o){var u=(0,n.up)("el-option"),i=(0,n.up)("el-select");return(0,n.wg)(),(0,n.j4)(i,{name:e.field.name,disabled:e.disabled||e.field.disabled,placeholder:e.field.placeholder,modelValue:e.value,"onUpdate:modelValue":l[0]||(l[0]=function(l){return e.value=l}),class:"xform-el-select",size:"small",clearable:""},{default:(0,n.w5)((function(){return[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.field.options,(function(e,l){return(0,n.wg)(),(0,n.j4)(u,{key:l,value:e.value,label:e.value},null,8,["value","label"])})),128))]})),_:1},8,["name","disabled","placeholder","modelValue"])}]]);var Bl={class:"xform-el-field-setting-prop"},Hl=(0,n._)("header",null,"选项：",-1),Fl=(0,n.Uk)("删除"),Kl=(0,n.Uk)("添加选项"),Ql={class:"xform-el-field-setting-prop"},Xl=(0,n._)("header",null,"默认值：",-1);function Gl(e,l){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);l&&(n=n.filter((function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),t.push.apply(t,n)}return t}function Jl(e,l,t){return l in e?Object.defineProperty(e,l,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[l]=t,e}var $l=(0,p.hS)(),et=$l.BuiltInDefaultValueType,lt=$l.EVENTS;const tt=(0,n.aZ)({name:"xform-el-select-setting",props:{field:p.Wi},emits:[lt.UPDATE_FIELD],setup:function(){var e=[{value:et.MANUAL,label:"手动指定"},{value:et.OPTION_FIRST,label:"首选项"}],l=(0,m.D2)((function(){if(!n.value)return;var e=l.options.value,t=r.value;r.value=e.some((function(e){return e.value==t}))?t:void 0})),t=(0,m.Xu)(e),n=t.useIsManual(),a=t.useCompatType(),r=t.useCompatValue((function(e){return e.value||""}));return function(e){for(var l=1;l<arguments.length;l++){var t=null!=arguments[l]?arguments[l]:{};l%2?Gl(Object(t),!0).forEach((function(l){Jl(e,l,t[l])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gl(Object(t)).forEach((function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(t,l))}))}return e}({compatType:a,compatValue:r,defTypes:e,isManual:n},l)},components:Jl({},$.name,$)}),nt={classes:{defaultValue:"wYJcBJE8kDsHvWtpJad8",compatType:"ESojE_ztyYX9HmODMH_W",compatValue:"RubtsX4YmnD76ynnU0pS"}},at=(0,w.Z)(tt,[["render",function(e,l,t,a,r,o){var u=(0,n.up)("el-input"),i=(0,n.up)("el-button"),d=(0,n.up)("el-option"),s=(0,n.up)("el-select"),c=(0,n.up)("field-setting");return(0,n.wg)(),(0,n.j4)(c,{field:e.field},{default:(0,n.w5)((function(){return[(0,n._)("section",Bl,[Hl,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.options,(function(l,t){return(0,n.wg)(),(0,n.iD)("div",{key:t,class:"xform-el-setting-option"},[(0,n.Wm)(u,{modelValue:l.value,"onUpdate:modelValue":function(e){return l.value=e},size:"small",placeholder:"请输入选项内容"},null,8,["modelValue","onUpdate:modelValue"]),(0,n.Wm)(i,{type:"danger",size:"small",plain:"",onClick:function(t){return e.removeOption(l)},disabled:e.field.options.length<=1},{default:(0,n.w5)((function(){return[Fl]})),_:2},1032,["onClick","disabled"])])})),128)),(0,n.Wm)(i,{type:"primary",size:"small",onClick:e.addOption,plain:""},{default:(0,n.w5)((function(){return[Kl]})),_:1},8,["onClick"])]),(0,n._)("section",Ql,[Xl,(0,n._)("div",{class:(0,_.C_)(e.classes.defaultValue)},[(0,n.Wm)(s,{modelValue:e.compatType,"onUpdate:modelValue":l[0]||(l[0]=function(l){return e.compatType=l}),size:"small",class:(0,_.C_)(e.classes.compatType)},{default:(0,n.w5)((function(){return[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.defTypes,(function(e,l){return(0,n.wg)(),(0,n.j4)(d,{key:l,value:e.value,label:e.label||e.value},null,8,["value","label"])})),128))]})),_:1},8,["modelValue","class"]),e.isManual?((0,n.wg)(),(0,n.j4)(s,{key:0,modelValue:e.compatValue,"onUpdate:modelValue":l[1]||(l[1]=function(l){return e.compatValue=l}),class:(0,_.C_)(e.classes.compatValue),size:"small",placeholder:"请选择",clearable:""},{default:(0,n.w5)((function(){return[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.options,(function(e,l){return(0,n.wg)(),(0,n.j4)(d,{key:l,value:e.value,label:e.label||e.value},null,8,["value","label"])})),128))]})),_:1},8,["modelValue","class"])):(0,n.kq)("",!0)],2)])]})),_:1},8,["field"])}],["__cssModules",nt]]);var rt=(0,p.hS)().BuiltInLogicOperator;const ot=p.w1.create({icon:Ml.Z,type:"select",title:"下拉选择",setting:at,build:ql,validator:function(e,l){return e.required&&(0,p.xb)(l)?Promise.reject("必填"):Promise.resolve()},onCreate:function(e,l,t){var n=Array.isArray(l.options)?l.options:[];t&&n.push({value:"选项1"}),e.options=n},operators:[rt.EQ,rt.NE,rt.EMPTY,rt.CONTAINS]});t(2772),t(561),t(4812),t(6541),t(9600);var ut=t(3720);function it(e,l,t){return l in e?Object.defineProperty(e,l,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[l]=t,e}var dt=(0,p.hS)(),st=dt.SELECTOR,ct=dt.CLASS,ft=dt.PROPS,pt=dt.EnumValidateMode;const mt=p.w1.create({type:"tabs.pane",title:"标签面板",custom:!0,scoped:!0,build:(0,n.aZ)({name:"xform-el-tabs-pane",props:{field:{type:p.Wi,required:!0},behavior:{type:String,default:null},disabled:{type:Boolean,default:!1}},setup:function(e){return function(){var l,t,a,r=(0,p.j9)(),o=e.field.fields,u=null!==(l=e.field.value)&&void 0!==l?l:{},i="designer"==e.behavior,d="designer"==e.behavior&&0==o.length?(0,n.Wm)("p",{class:[ct.IS_EMPTY_TIP,"xform-el-empty-tip"]},[(0,n.Uk)("请将左侧控件拖动到此处")]):o.map((function(l){return r.renderField(i?l:u[l.name],{parentProps:{disabled:e.disabled}})})),s=(a={class:(t={"xform-el-tab-pane":!0},it(t,ct.DROPPABLE,!0),it(t,ct.SCOPE,!0),t)},it(a,"."+ft.FIELD,e.field),it(a,"."+ft.SCOPE,e.field),a);return(0,n.Wm)("div",s,[d])}}}),view:(0,n.aZ)({name:"xform-el-tabs-pane-view",props:{field:{type:p.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e){var l,t=(0,p.j9)(),a=null!==(l=e.field.value)&&void 0!==l?l:{};return function(){var l=e.field.fields;return(0,n.Wm)("div",{class:"xform-el-tab-pane"},[l.map((function(l){return t.renderField(a[l.name],{parentProps:{disabled:e.disabled}})}))])}}}),onDragOver:function(e){var l=e.currentTarget;e.stopPropagation(),e.preventDefault();var t=e.context,n=t.directionY,a=t.moveMarkEl,r=e.dragElement.contains(l);a(n,r?e.dragElement:e.target,r?e.dragElement.parentElement.closest(st.DROPPABLE):l)},onDrop:function(e){e.stopPropagation()},onValueInit:function(e,l){var t=null!=l?l:{};return e.fields.reduce((function(l,n){var a,r=n.name,o=n.clone(!0);return o.setValue(null!==(a=t[r])&&void 0!==a?a:null),o.setParent(e),l[r]=o,l}),{})},onValueSubmit:function(e){var l,t=null!==(l=e.value)&&void 0!==l?l:{};return e.fields.map((function(e){return e.name})).reduce((function(e,l){var n,a=t[l],r=null===(n=a.conf)||void 0===n?void 0:n.onValueSubmit;return e[l]="function"==typeof r?r(a):a.value,e}),{})},validator:function(e,l,t){var n=Object.values(null!=l?l:{}).map((function(e){return t.mode==pt.RECURSIVE?e.validate({mode:pt.RECURSIVE}):e.invalid?Promise.reject():Promise.resolve()}));return Promise.allSettled(n).then((function(l){return l.some((function(e){return"rejected"===e.status}))?Promise.reject("请补全标签页[".concat(e.title,"]必填内容")):Promise.resolve()}))}});function vt(e,l,t){return l in e?Object.defineProperty(e,l,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[l]=t,e}function bt(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,n.lA)(e)}var gt=(0,p.hS)(),yt=gt.CLASS,Vt=gt.EnumValidityState,wt=gt.EVENTS,ht=(0,n.aZ)({name:"xform-el-tabs-setting",props:{field:{type:p.Wi,required:!0}},emits:[wt.UPDATE_FIELD],setup:function(e){var l=(0,m.Et)("showTitle","attributes");function t(){var l=e.field,t=new p.Wi(mt);t.title="标签".concat(e.field.fields.length+1),l.fields.push(t)}function a(l){var t=e.field.fields;if(!(t.length<=1)){var n=t.indexOf(l);n>=0&&t.splice(n,1)}}function r(l){var t=e.field.fields,n=t.splice(l,1)[0];t.splice(l-1,0,n)}function o(l){var t=e.field.fields,n=t.splice(l+1,1)[0];t.splice(l,0,n)}return function(){var u=e.field,i=u.fields.map((function(e,l){var t=u.fields.length;return(0,n.Wm)("div",{class:"xform-el-setting-option xform-el-tabs-option"},[(0,n.Wm)((0,n.up)("el-input"),{placeholder:"请输入标签名称",size:"small",modelValue:e.title,"onUpdate:modelValue":function(l){return e.title=l}},null),(0,n.Wm)((0,n.up)("el-button"),{type:"primary",size:"small",plain:!0,onClick:r.bind(null,l),disabled:0==l},{default:function(){return[(0,n.Uk)("上移")]}}),(0,n.Wm)((0,n.up)("el-button"),{type:"primary",size:"small",plain:!0,onClick:o.bind(null,l),disabled:l==t-1},{default:function(){return[(0,n.Uk)("下移")]}}),(0,n.Wm)((0,n.up)("el-button"),{type:"danger",size:"small",plain:!0,onClick:a.bind(null,e),disabled:t<=1},{default:function(){return[(0,n.Uk)("删除")]}})])})),d={default:function(){return(0,n.Wm)("div",{class:"xform-el-field-setting-prop"},[(0,n.Wm)("header",null,[(0,n.Uk)("标签：")]),i,(0,n.Wm)((0,n.up)("el-button"),{type:"primary",size:"small",onClick:t,plain:!0},{default:function(){return[(0,n.Uk)("添加标签")]}})])},attributes:function(){return(0,n.Wm)((0,n.up)("el-checkbox"),{name:"".concat(u.name,"-show-title"),modelValue:l.value,"onUpdate:modelValue":function(e){return l.value=e}},{default:function(){return[(0,n.Uk)("显示标题")]}})}};return(0,n.Wm)((0,n.up)("field-setting"),{field:u,placeholder:!1,required:!1},d)}},components:vt({},$.name,$)});function Pt(e){return e.validation.valid!==Vt.ERROR?null:(0,n.Wm)("p",{class:"xform-item-message"},[e.validation.message])}var _t=(0,n.aZ)({name:"xform-el-tabs",props:{field:{type:p.Wi,required:!0},behavior:{type:String,default:null},disabled:{type:Boolean,default:!1}},setup:function(e){var l=(0,E.iH)(e.field.fields[0].name),t=(0,p.j9)();return(0,n.Jd)((0,n.YP)(e.field.fields,(function(e){e.every((function(e){return e.name!=l.value}))&&(l.value=e[e.length-1].name)}))),function(){var a,r=e.field,o=null!==(a=r.value)&&void 0!==a?a:{},u=e.disabled,i=!0===r.attributes.showTitle,d=r.fields.map((function(l){var a;return(0,n.Wm)((0,n.up)("el-tab-pane"),{label:l.title,name:l.name,lazy:!0},bt(a=t.renderField("designer"==e.behavior?l:o[l.name],{parentProps:{disabled:u},renderPreivew:function(e,l,t,n){return n()}}))?a:{default:function(){return[a]}})})),s={class:vt({"xform-item":!0,"xform-el-tabs":!0,"xform-is-with-title":i},yt.IS_ERROR,r.invalid),style:i?{"--xform-el-tabs-field-title":'"'.concat(r.title,'"')}:null};return(0,n.Wm)("div",s,[(0,n.Wm)((0,n.up)("el-tabs"),{modelValue:l.value,"onUpdate:modelValue":function(e){return l.value=e},type:"border-card"},bt(d)?d:{default:function(){return[d]}}),Pt(r)])}}});const Et=p.w1.create({type:"tabs",title:"标签页",icon:ut.Z,custom:!0,setting:ht,build:_t,view:_t,dependencies:[mt],onCreate:function(e,l,t){if(t){var n=new p.Wi(mt);n.title="标签".concat(e.fields.length+1),e.push(n),e.attributes.showTitle=!0}},onValueInit:function(e,l){var t=null!=l?l:{};return e.fields.reduce((function(l,n){var a=n.name,r=n.clone(!0);return r.setValue(t[a]),r.setParent(e),l[a]=r,l}),{})},onValueSubmit:function(e){var l,t=null!==(l=e.value)&&void 0!==l?l:{};return e.fields.map((function(e){return e.name})).reduce((function(e,l){var n,a=t[l],r=null===(n=a.conf)||void 0===n?void 0:n.onValueSubmit;return e[l]="function"==typeof r?r(a):a.value,e}),{})},validator:function(e,l,t){var n=Object.values(null!=l?l:{}).map((function(e){return e.validate({mode:t.mode})}));return Promise.allSettled(n).then((function(e){var l=e.map((function(e){return"rejected"==e.status?e.reason:null})).filter((function(e){return e}));return l.length>0?Promise.reject(l.join("\n")):Promise.resolve()}))},operators:!1});var xt=t(3161);const Ot=(0,n.aZ)({name:"xform-el-text",props:{field:{type:p.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(){return{value:(0,m.Hg)()}}}),jt=(0,w.Z)(Ot,[["render",function(e,l,t,a,r,o){var u=(0,n.up)("el-input");return(0,n.wg)(),(0,n.j4)(u,{modelValue:e.value,"onUpdate:modelValue":l[0]||(l[0]=function(l){return e.value=l}),id:e.field.uid,name:e.field.name,placeholder:e.field.placeholder,disabled:e.disabled||e.field.disabled,class:"xform-el-text",size:"small"},null,8,["modelValue","id","name","placeholder","disabled"])}]]);var kt={class:"xform-el-field-setting-prop"},Tt=(0,n._)("header",null,"默认值：",-1);var Wt=(0,p.hS)().EVENTS;const St=(0,n.aZ)({name:"xform-el-text-setting",props:{field:p.Wi},emits:[Wt.UPDATE_FIELD],setup:function(){return{compatValue:(0,m.Xu)([]).useCompatValue()}},components:function(e,l,t){return l in e?Object.defineProperty(e,l,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[l]=t,e}({},$.name,$)}),Ut=(0,w.Z)(St,[["render",function(e,l,t,a,r,o){var u=(0,n.up)("el-input"),i=(0,n.up)("field-setting");return(0,n.wg)(),(0,n.j4)(i,{field:e.field},{default:(0,n.w5)((function(){return[(0,n._)("section",kt,[Tt,(0,n.Wm)(u,{size:"small",modelValue:e.compatValue,"onUpdate:modelValue":l[0]||(l[0]=function(l){return e.compatValue=l}),placeholder:"[可选] 如果字段没有填写，默认为设定的值"},null,8,["modelValue"])])]})),_:1},8,["field"])}]]);var Dt=(0,p.hS)().BuiltInLogicOperator;const Ct=p.w1.create({icon:xt.Z,type:"text",title:"单行文本",setting:Ut,build:jt,validator:function(e,l){return e.required&&(0,p.xb)(l)?Promise.reject("必填"):Promise.resolve()},operators:[Dt.EQ,Dt.NE,Dt.EMPTY,Dt.CONTAINS]});var Zt=t(3923);const It=(0,n.aZ)({name:"xform-el-textarea",props:{field:{type:p.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(){return{value:(0,m.Hg)()}}}),Lt=(0,w.Z)(It,[["render",function(e,l,t,a,r,o){var u=(0,n.up)("el-input");return(0,n.wg)(),(0,n.j4)(u,{type:"textarea",modelValue:e.value,"onUpdate:modelValue":l[0]||(l[0]=function(l){return e.value=l}),id:e.field.uid,name:e.field.name,rows:3,placeholder:e.field.placeholder,disabled:e.disabled||e.field.disabled,class:"xform-el-textarea"},null,8,["modelValue","id","name","placeholder","disabled"])}]]);var Rt={class:"xform-el-field-setting-prop"},Nt=(0,n._)("header",null,"默认值：",-1);var zt=(0,p.hS)().EVENTS;const At=(0,n.aZ)({name:"xform-el-textarea-setting",props:{field:p.Wi},emits:[zt.UPDATE_FIELD],setup:function(){return{compatValue:(0,m.Xu)([]).useCompatValue()}},components:function(e,l,t){return l in e?Object.defineProperty(e,l,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[l]=t,e}({},$.name,$)}),Mt=(0,w.Z)(At,[["render",function(e,l,t,a,r,o){var u=(0,n.up)("el-input"),i=(0,n.up)("field-setting");return(0,n.wg)(),(0,n.j4)(i,{field:e.field},{default:(0,n.w5)((function(){return[(0,n._)("section",Rt,[Nt,(0,n.Wm)(u,{size:"small",modelValue:e.compatValue,"onUpdate:modelValue":l[0]||(l[0]=function(l){return e.compatValue=l}),placeholder:"[可选] 如果字段没有填写，默认为设定的值"},null,8,["modelValue"])])]})),_:1},8,["field"])}]]);var Yt=(0,p.hS)().BuiltInLogicOperator;const qt=p.w1.create({icon:Zt.Z,type:"textarea",title:"多行文本",setting:Mt,build:Lt,validator:function(e,l){return e.required&&(0,p.xb)(l)?Promise.reject("必填"):Promise.resolve()},operators:[Yt.EQ,Yt.NE,Yt.EMPTY,Yt.CONTAINS]});const Bt={name:"element-plus",version:"0.7.0",slots:{setting_form:h},fieldConfs:[de,Pe,ze,ol,yl,Al,ot,Et,Ct,qt]}}}]);