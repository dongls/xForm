"use strict";(self.webpackChunkxform=self.webpackChunkxform||[]).push([[447],{2286:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Cl});var l=n(9784),r=n(6252);n(1249),n(4916),n(1539);const o={logicForm:"rPD0B2se_558N8J3zEwk",valueSelect:"Sj0x4FkQGA7lrN6KIFh0"};var u=n(8018),a=(n(9826),(0,l.hS)().CLASS);function i(e,t){var n=t.parent.find(e.field);if(null==n)return(0,r.Wm)("div",{class:a.IS_WARNING},[(0,r.Uk)("当前逻辑失效，目标字段被删除或位置发生变化")]);var l=(0,r.Wm)("strong",{class:o.warnFieldTitle},[n.title]);return(0,r.Wm)("div",{class:a.IS_WARNING},[(0,r.Uk)("当前逻辑失效，目标字段"),l,(0,r.Uk)("的位置发生变化")])}function d(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,r.lA)(e)}var f=l.gN.createFieldLogic({type:"string_value_compare",title:"值",render:function(e,t){var n=t.previousField(e.field);if(null==n)return i(e,t);var l=[u.d.OPERATOR_EQ,u.d.OPERATOR_NE,u.d.OPERATOR_CONTAINS,u.d.OPERATOR_EMPTY].map((function(e){return(0,r.Wm)((0,r.up)("el-option"),{label:e.title,value:e.type},null)})),a=(0,r.Wm)((0,r.up)("el-select"),{modelValue:e.operator,"onUpdate:modelValue":function(t){return e.operator=t}},d(l)?l:{default:function(){return[l]}}),f=e.operator===u.d.OPERATOR_EMPTY.type?null:(0,r.Wm)((0,r.up)("el-input"),{modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},placeholder:"目标值"},null);return(0,r.Wm)("div",{class:o.logicForm},[(0,r.Wm)("span",null,[(0,r.Uk)("如果")]),(0,r.Wm)("strong",null,[n?n.title:"N/A"]),(0,r.Wm)("span",null,[(0,r.Uk)("的值")]),a,f])},test:function(e,t){var n=u.d.get(e.operator);if(null==n)return!0;var l=t.previousField(e.field);return null==l||n.test(l.value,e.value)},validator:function(e){return e.operator==u.d.OPERATOR_EMPTY.type||(!(0,l.xb)(e.value)||"请补全目标值")},onCreated:function(e){null==e.operator&&(e.operator=u.d.OPERATOR_EQ.type)}}),c=l.gN.createFieldLogic({type:"string_length_compare",title:"长度",render:function(e,t){var n=t.previousField(e.field);if(null==n)return i(e,t);var l=[u.d.OPERATOR_EQ,u.d.OPERATOR_NE,u.d.OPERATOR_LT,u.d.OPERATOR_LTE,u.d.OPERATOR_GT,u.d.OPERATOR_GTE].map((function(e){return(0,r.Wm)((0,r.up)("el-option"),{label:e.title,value:e.type},null)})),a=(0,r.Wm)((0,r.up)("el-select"),{modelValue:e.operator,"onUpdate:modelValue":function(t){return e.operator=t}},d(l)?l:{default:function(){return[l]}}),f=e.operator===u.d.OPERATOR_EMPTY.type?null:(0,r.Wm)((0,r.up)("el-input-number"),{modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},placeholder:"目标值","controls-position":"right",min:0,"step-strictly":!0},null);return(0,r.Wm)("div",{class:o.logicForm},[(0,r.Wm)("span",null,[(0,r.Uk)("如果")]),(0,r.Wm)("strong",null,[n?n.title:"N/A"]),(0,r.Wm)("span",null,[(0,r.Uk)("的长度")]),a,f])},test:function(e,t){var n=u.d.get(e.operator);if(null==n)return!0;var l=t.previousField(e.field);if(null==l)return!0;var r=l.value;return"string"==typeof r&&n.test(r.length,e.value)},validator:function(e){return!(0,l.xb)(e.value)||"请补全目标值"},onCreated:function(e){null==e.operator&&(e.operator=u.d.OPERATOR_EQ.type)}});n(8309);var s=l.gN.createFieldLogic({type:"number_value_compare",title:"值",render:function(e,t){var n=t.previous().find((function(t){return t.name==e.field}));if(null==n)return i(e,t);var l,a=[u.d.OPERATOR_EQ,u.d.OPERATOR_NE,u.d.OPERATOR_LT,u.d.OPERATOR_LTE,u.d.OPERATOR_GT,u.d.OPERATOR_GTE].map((function(e){return(0,r.Wm)((0,r.up)("el-option"),{value:e.type,label:e.title},null)})),d=(0,r.Wm)((0,r.up)("el-select"),{modelValue:e.operator,"onUpdate:modelValue":function(t){return e.operator=t}},"function"==typeof(l=a)||"[object Object]"===Object.prototype.toString.call(l)&&!(0,r.lA)(l)?a:{default:function(){return[a]}}),f=e.operator===u.d.OPERATOR_EMPTY.type?null:(0,r.Wm)((0,r.up)("el-input-number"),{modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},placeholder:"目标值","controls-position":"right",min:0,"step-strictly":!0},null);return(0,r.Wm)("div",{class:o.logicForm},[(0,r.Wm)("span",null,[(0,r.Uk)("如果")]),(0,r.Wm)("strong",null,[n?n.title:"N/A"]),(0,r.Wm)("span",null,[(0,r.Uk)("的值")]),d,f])},test:function(e,t){var n=u.d.get(e.operator);if(null==n)return!0;var l=t.previousField(e.field);if(null==l)return!0;var r=l.value;return"number"==typeof r&&n.test(r,e.value)},validator:function(e){return!(0,l.xb)(e.value)||"请补全目标值"},onCreated:function(e){null==e.operator&&(e.operator=u.d.OPERATOR_EQ.type)}});var p=l.gN.createFieldLogic({type:"date_value_compare",title:"值",render:function(e,t){var n,l,a=t.previousField(e.field);if(null==a)return i(e,t);var d,f=[u.d.OPERATOR_EQ,u.d.OPERATOR_NE,u.d.OPERATOR_LT,u.d.OPERATOR_LTE,u.d.OPERATOR_GT,u.d.OPERATOR_GTE,u.d.OPERATOR_EMPTY].map((function(e){return(0,r.Wm)((0,r.up)("el-option"),{value:e.type,label:e.title},null)})),c=(0,r.Wm)((0,r.up)("el-select"),{modelValue:e.operator,"onUpdate:modelValue":function(t){return e.operator=t}},"function"==typeof(d=f)||"[object Object]"===Object.prototype.toString.call(d)&&!(0,r.lA)(d)?f:{default:function(){return[f]}}),s=e.operator===u.d.OPERATOR_EMPTY.type?null:(0,r.Wm)((0,r.up)("el-date-picker"),{modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},placeholder:"目标值",format:null===(n=a.attributes)||void 0===n?void 0:n.format,"value-format":null===(l=a.attributes)||void 0===l?void 0:l.valueFormat},null);return(0,r.Wm)("div",{class:o.logicForm},[(0,r.Wm)("span",null,[(0,r.Uk)("如果")]),(0,r.Wm)("strong",null,[a?a.title:"N/A"]),(0,r.Wm)("span",null,[(0,r.Uk)("的值")]),c,s])},test:function(e,t){var n=u.d.get(e.operator);if(null==n)return!0;var l=t.previousField(e.field);return null==l||n.test(l.value,e.value)},validator:function(e){return!(0,l.xb)(e.value)||"请补全目标值"},onCreated:function(e){null==e.operator&&(e.operator=u.d.OPERATOR_EQ.type)}}),m=n(9963);n(9753),n(7042),n(1038),n(8783),n(2526),n(1817),n(2165),n(6992),n(3948);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,r=function(){};return{s:r,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){a=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw o}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function g(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,r.lA)(e)}function h(e,t){if(e.operator==u.d.OPERATOR_EMPTY.type)return null;if(e.operator==u.d.OPERATOR_CONTAINS.type)return(0,r.wy)((0,r.Wm)("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":function(t){return e.value=t},placeholder:"目标值"},null),[[m.nr,e.value]]);if(!Array.isArray(t.options))return null;if(e.operator==u.d.OPERATOR_OPTION_EQ.type||e.operator==u.d.OPERATOR_OPTION_NE.type||e.operator==u.d.OPERATOR_OPTION_CONTAINS.type){var n=t.options.map((function(e){var t;return(0,r.Wm)((0,r.up)("el-option"),{value:e.value,label:null!==(t=e.label)&&void 0!==t?t:e.value},null)}));return(0,r.Wm)((0,r.up)("el-select"),{class:o.valueSelect,modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},multiple:!0,"collapse-tags":!0,clearable:!0},g(n)?n:{default:function(){return[n]}})}var l=t.options.map((function(e){var t;return(0,r.Wm)((0,r.up)("el-option"),{value:e.value,label:null!==(t=e.label)&&void 0!==t?t:e.value},null)}));return(0,r.Wm)((0,r.up)("el-select"),{class:o.valueSelect,modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},placeholder:"请选择目标值"},g(l)?l:{default:function(){return[l]}})}function O(e,t){if(!(t instanceof l.Wi)||null==e.value)return!1;var n=t.previous().find((function(t){return t.name==e.field}));if(null==n)return!1;var r=n.options;if(!Array.isArray(r)||0==r.length)return!1;var o,u=b(Array.isArray(e.value)?e.value:[e.value]);try{var a=function(){var e=o.value;if(null==r.find((function(t){return t.value===e})))return{v:!1}};for(u.s();!(o=u.n()).done;){var i=a();if("object"===v(i))return i.v}}catch(e){u.e(e)}finally{u.f()}return!0}var P=l.gN.createFieldLogic({type:"option_value_compare",title:"值",render:function(e,t){var n=t.previousField(e.field);if(null==n)return i(e,t);var l=[u.d.OPERATOR_EQ,u.d.OPERATOR_NE,u.d.OPERATOR_CONTAINS,u.d.OPERATOR_EMPTY].map((function(e){return(0,r.Wm)((0,r.up)("el-option"),{value:e.type,label:e.title},null)})),a=(0,r.Wm)((0,r.up)("el-select"),{modelValue:e.operator,"onUpdate:modelValue":function(t){return e.operator=t}},g(l)?l:{default:function(){return[l]}}),d=h(e,n);return(0,r.Wm)("div",{class:o.logicForm},[(0,r.Wm)("span",null,[(0,r.Uk)("如果")]),(0,r.Wm)("strong",null,[n.title]),(0,r.Wm)("span",null,[(0,r.Uk)("的值")]),a,d])},test:function(e,t){var n=u.d.get(e.operator);if(null==n)return!0;var l=t.previousField(e.field);return null==l||n.test(l.value,e.value)},validator:function(e,t){return e.operator==u.d.OPERATOR_EMPTY.type||(e.operator==u.d.OPERATOR_CONTAINS.type?!(0,l.xb)(e.value)||"请输入目标值":!((0,l.xb)(e.value)||!O(e,t))||"请选择目标值")},onCreated:function(e,t){null==e.operator&&(e.operator=u.d.OPERATOR_EQ.type),e.operator==u.d.OPERATOR_CONTAINS.type||O(e,t)||(e.value=null)}}),E=l.gN.createFieldLogic({type:"multiple_option_value_compare",title:"值",render:function(e,t){var n=t.previousField(e.field);if(null==n)return i(e,t);var l=[u.d.OPERATOR_OPTION_EQ,u.d.OPERATOR_OPTION_NE,u.d.OPERATOR_OPTION_CONTAINS,u.d.OPERATOR_EMPTY].map((function(e){return(0,r.Wm)((0,r.up)("el-option"),{value:e.type,label:e.title},null)})),a=(0,r.Wm)((0,r.up)("el-select"),{modelValue:e.operator,"onUpdate:modelValue":function(t){return e.operator=t}},g(l)?l:{default:function(){return[l]}}),d=h(e,n);return(0,r.Wm)("div",{class:o.logicForm},[(0,r.Wm)("span",null,[(0,r.Uk)("如果")]),(0,r.Wm)("strong",null,[n.title]),(0,r.Wm)("span",null,[(0,r.Uk)("的值")]),a,d])},test:function(e,t){var n=u.d.get(e.operator);if(null==n)return!0;var l=t.previousField(e.field);return null==l||n.test(l.value,e.value)},onCreated:function(e,t){null==e.operator&&(e.operator=u.d.OPERATOR_OPTION_EQ.type),O(e,t)||(e.value=null)}});const S={use:function(){(0,l.ZN)(f),(0,l.ZN)(c),(0,l.ZN)(s),(0,l.ZN)(p),(0,l.ZN)(P),(0,l.ZN)(E)},remove:function(){(0,l.I5)(f),(0,l.I5)(c),(0,l.I5)(s),(0,l.I5)(p),(0,l.I5)(P),(0,l.I5)(E)}};n(9554),n(4747),n(8674);var V=n(1683),_=n(3577);var w=n(1207);const T=(0,r.aZ)({name:"xform-el-checkbox",props:{field:{type:l.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e){return{value:(0,w.Hg)([]),className:(0,r.Fl)((function(){var t=["xform-el-checkbox"];return"block"==e.field.attributes.layout&&t.push("xform-el-checkbox-block"),t}))}}});var W=n(3744);const x=(0,W.Z)(T,[["render",function(e,t,n,l,o,u){var a=(0,r.up)("el-checkbox"),i=(0,r.up)("el-checkbox-group");return(0,r.wg)(),(0,r.j4)(i,{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.value=t}),disabled:e.disabled||e.field.disabled,class:(0,_.C_)(e.className)},{default:(0,r.w5)((function(){return[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.field.options,(function(t,n){return(0,r.wg)(),(0,r.j4)(a,{key:n,label:t.value,name:e.field.name},null,8,["label","name"])})),128))]})),_:1},8,["modelValue","disabled","class"])}]]);var j={class:"xform-el-field-setting-prop"},k=(0,r._)("header",null,"布局：",-1),R={class:"xform-el-field-setting-prop"},U=(0,r._)("header",null,"选项：",-1),A={class:"xform-el-field-setting-prop"},N=(0,r._)("header",null,"默认值：",-1);n(7327),n(5212),n(6649),n(6078),n(9653),n(9070),n(7941),n(5003),n(9337),n(3321);var D={class:"xform-el-field-setting-head"},C={class:"xform-el-field-setting-prop"},I=(0,r._)("header",null,"标题：",-1),F={key:0,class:"xform-el-field-setting-prop"},Z=(0,r._)("header",null,"提示：",-1),L={key:1,class:"xform-el-field-setting-prop"},M=(0,r._)("header",null,"属性：",-1);var q=n(2262),Y=n(9622),H={class:"xform-el-field-setting-prop"},B=(0,r._)("span",null,"逻辑：",-1);const G=(0,r.aZ)({__name:"FieldLogic",props:{field:{type:l.Wi,required:!0}},setup:function(e){var t=e,n=(0,l.j9)(),o=(0,q.iH)(null),u=(0,q.iH)(!1),a=(0,r.Fl)({get:function(){return t.field.logic},set:function(e){n.updateField(t.field,{prop:"logic",value:e})}});function i(){u.value=!0}function d(){var e=o.value;if(null!=e){var t=e.submit();t.valid&&(a.value=t.data,u.value=!1)}}function f(){u.value=!1}return function(e,n){var l=(0,r.up)("el-button"),a=(0,r.up)("el-dialog");return(0,r.wg)(),(0,r.iD)("div",H,[(0,r._)("header",null,[B,(0,r.Wm)(l,{type:"primary",class:(0,_.C_)(e.classes.logicBtn),onClick:i,link:""},{default:(0,r.w5)((function(){return[(0,r.Uk)("配置")]})),_:1},8,["class"])]),(0,r._)("div",{class:(0,_.C_)(e.classes.tip)},"配置字段逻辑后，如果依赖的字段能够满足指定的条件，就会显示该字段，否则会隐藏该字段。",2),(0,r.Wm)(a,{title:"配置逻辑",modelValue:u.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return u.value=e}),width:"840px","custom-class":e.classes.modal,"destroy-on-close":"","append-to-body":""},{footer:(0,r.w5)((function(){return[(0,r.Wm)(l,{type:"primary",onClick:f,text:""},{default:(0,r.w5)((function(){return[(0,r.Uk)("关闭")]})),_:1}),(0,r.Wm)(l,{type:"primary",onClick:d},{default:(0,r.w5)((function(){return[(0,r.Uk)("保存")]})),_:1})]})),default:(0,r.w5)((function(){return[(0,r.Wm)((0,q.SU)(Y.h),{field:t.field,ref_key:"editor",ref:o},null,8,["field"])]})),_:1},8,["modelValue","custom-class"])])}}}),K={classes:{modal:"I4YgaCPHxWiqPlEV6LGw",logicBtn:"RqYi3vFp2AwPJyA0k2G9",tip:"VCwWDbNe0VrBrhZwP6Ir"}},Q=(0,W.Z)(G,[["__cssModules",K]]),z=(0,r.aZ)({name:"field-setting",props:{field:{type:l.Wi,required:!0},placeholder:{type:Boolean,default:!0},required:{type:Boolean,default:!0},logic:{type:Boolean,default:!0},attributes:{type:Boolean,default:!0}},setup:function(e){return{fieldRef:(0,q.Vh)(e,"field"),allowLogic:(0,r.Fl)((function(){return!0===(0,l.iE)().logic}))}},components:{FieldLogic:Q}}),X=(0,W.Z)(z,[["render",function(e,t,n,l,o,u){var a=(0,r.up)("el-input"),i=(0,r.up)("el-checkbox"),d=(0,r.up)("FieldLogic");return(0,r.wg)(),(0,r.iD)("div",{class:(0,_.C_)("xform-el-field-setting xform-el-".concat(e.fieldRef.type,"-setting"))},[(0,r._)("h3",D,(0,_.zw)(e.field.conf.title),1),(0,r._)("section",C,[I,(0,r.Wm)(a,{placeholder:"[必填] 请输入标题...",modelValue:e.fieldRef.title,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.fieldRef.title=t})},null,8,["modelValue"]),(0,r.WI)(e.$slots,"title")]),e.placeholder?((0,r.wg)(),(0,r.iD)("section",F,[Z,(0,r.Wm)(a,{type:"textarea",placeholder:"[可选] 请输入提示信息...",rows:"3",modelValue:e.fieldRef.placeholder,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.fieldRef.placeholder=t})},null,8,["modelValue"])])):(0,r.kq)("",!0),e.attributes?((0,r.wg)(),(0,r.iD)("section",L,[M,e.required?((0,r.wg)(),(0,r.j4)(i,{key:0,modelValue:e.fieldRef.required,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.fieldRef.required=t}),name:"".concat(e.field.name,"-required"),title:"勾选则该字段在表单提交时必须填写"},{default:(0,r.w5)((function(){return[(0,r.Uk)("必填")]})),_:1},8,["modelValue","name"])):(0,r.kq)("",!0),(0,r.Wm)(i,{modelValue:e.fieldRef.disabled,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.fieldRef.disabled=t}),name:"".concat(e.field.name,"-disabled"),title:"勾选则该字段在表单中无法编辑, 也不参与表单验证"},{default:(0,r.w5)((function(){return[(0,r.Uk)("禁用")]})),_:1},8,["modelValue","name"]),(0,r.Wm)(i,{modelValue:e.fieldRef.hidden,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.fieldRef.hidden=t}),name:"".concat(e.field.name,"-hidden"),title:"勾选则该字段将不会再表单中显示"},{default:(0,r.w5)((function(){return[(0,r.Uk)("隐藏")]})),_:1},8,["modelValue","name"]),(0,r.WI)(e.$slots,"attributes")])):(0,r.kq)("",!0),(0,r.WI)(e.$slots,"default"),e.allowLogic?((0,r.wg)(),(0,r.j4)(d,{key:2,field:e.fieldRef,"onUpdate:field":t[5]||(t[5]=function(t){return e.fieldRef=t})},null,8,["field"])):(0,r.kq)("",!0)],2)}]]);function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function ee(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==$(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!==$(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=(0,l.hS)(),ne=te.BuiltInDefaultValueType,le=te.EVENTS;const re=(0,r.aZ)({name:"xform-el-checkbox-setting",props:{field:l.Wi},emits:[le.UPDATE_FIELD],setup:function(){var e=[{value:ne.MANUAL,label:"手动指定"},{value:ne.OPTION_ALL,label:"全部选项"}],t=(0,w.D2)((function(){if(!l.value)return;var e=t.options.value,n=o.value;o.value=n.filter((function(t){return e.some((function(e){return e.value==t}))}))})),n=(0,w.Xu)(e),l=n.useIsManual(),r=n.useCompatType(),o=n.useCompatValue((function(e){var t=e.value;return Array.isArray(t)?t:[]}));return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({compatType:r,compatValue:o,defTypes:e,isManual:l,layout:(0,w.Et)("layout","attributes")},t)},components:ee({},X.name,X)}),oe={classes:{defaultValue:"McgB5UGrmYfAVKKWqEze",compatType:"dc0FJ2Ie4xOwyEeS_6d7",compatValue:"MV8D6SrdLk9beWbxiROq"}},ue=(0,W.Z)(re,[["render",function(e,t,n,l,o,u){var a=(0,r.up)("el-radio-button"),i=(0,r.up)("el-radio-group"),d=(0,r.up)("el-input"),f=(0,r.up)("el-button"),c=(0,r.up)("el-option"),s=(0,r.up)("el-select"),p=(0,r.up)("field-setting");return(0,r.wg)(),(0,r.j4)(p,{field:e.field,placeholder:!1},{default:(0,r.w5)((function(){return[(0,r._)("section",j,[k,(0,r.Wm)(i,{modelValue:e.layout,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.layout=t})},{default:(0,r.w5)((function(){return[(0,r.Wm)(a,{label:"inline"},{default:(0,r.w5)((function(){return[(0,r.Uk)("行内")]})),_:1}),(0,r.Wm)(a,{label:"block"},{default:(0,r.w5)((function(){return[(0,r.Uk)("换行")]})),_:1})]})),_:1},8,["modelValue"])]),(0,r._)("section",R,[U,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.options,(function(t,n){return(0,r.wg)(),(0,r.iD)("div",{key:n,class:"xform-el-setting-option"},[(0,r.Wm)(d,{modelValue:t.value,"onUpdate:modelValue":function(e){return t.value=e},placeholder:"请输入选项内容"},null,8,["modelValue","onUpdate:modelValue"]),(0,r.Wm)(f,{type:"danger",link:"",onClick:function(n){return e.removeOption(t)},disabled:e.field.options.length<=1},{default:(0,r.w5)((function(){return[(0,r.Uk)("删除")]})),_:2},1032,["onClick","disabled"])])})),128)),(0,r.Wm)(f,{type:"primary",onClick:e.addOption,link:""},{default:(0,r.w5)((function(){return[(0,r.Uk)("添加选项")]})),_:1},8,["onClick"])]),(0,r._)("section",A,[N,(0,r._)("div",{class:(0,_.C_)(e.classes.defaultValue)},[(0,r.Wm)(s,{modelValue:e.compatType,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.compatType=t}),class:(0,_.C_)(e.classes.compatType)},{default:(0,r.w5)((function(){return[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.defTypes,(function(e,t){return(0,r.wg)(),(0,r.j4)(c,{key:t,value:e.value,label:e.label||e.value},null,8,["value","label"])})),128))]})),_:1},8,["modelValue","class"]),e.isManual?((0,r.wg)(),(0,r.j4)(s,{key:0,modelValue:e.compatValue,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.compatValue=t}),class:(0,_.C_)(e.classes.compatValue),placeholder:"请选择",clearable:"",multiple:"","collapse-tags":""},{default:(0,r.w5)((function(){return[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.options,(function(e,t){return(0,r.wg)(),(0,r.j4)(c,{key:t,value:e.value,label:e.label||e.value},null,8,["value","label"])})),128))]})),_:1},8,["modelValue","class"])):(0,r.kq)("",!0)],2)])]})),_:1},8,["field"])}],["__cssModules",oe]]),ae=l.gN.create({icon:V.Z,type:"checkbox",title:"多选",setting:ue,build:x,validator:function(e,t){return e.required&&(0,l.xb)(t)?Promise.reject("必填"):Promise.resolve()},onCreate:function(e,t,n){var l=Array.isArray(t.options)?t.options:[];n&&(l.push({value:"选项1"}),e.attributes.layout="inline"),e.options=l},logic:[E]});n(2222),n(2772),n(5827),n(2479),n(7314);var ie=n(9704),de={class:"xform-el-field-setting-prop"},fe=(0,r._)("header",null,"表单布局：",-1),ce={class:"xform-el-field-setting-prop"},se=(0,r._)("header",null,"列宽：",-1),pe=["placeholder","value","onInput"],me={key:0,class:"text-secondary"};n(4678);var ve=150,be="xform-el-datatable-columns";function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}var ge=(0,l.hS)(),he=ge.EVENTS,Oe=ge.LabelPosition;const Pe=(0,r.aZ)({name:"xform-el-datatable-setting",props:{field:{type:l.Wi,required:!0}},emits:[he.UPDATE_FIELD],setup:function(e,t){var n=t.emit;return{DEF_COLUMN_WIDTH:ve,updateColWidth:function(t,l){var r=t.target,o=parseFloat(r.value),u=e.field.attributes.colWidths;u[l]=isNaN(o)?null:o,n(he.UPDATE_FIELD,{prop:"colWidths",value:u,scope:"attributes"})},getColumnWidth:function(t){return e.field.attributes.colWidths[t]},layout:(0,w.Et)("layout","attributes"),hideTitle:(0,w.Et)("hideTitle","attributes"),labelPosition:(0,r.Fl)({get:function(){var t;return(null===(t=e.field.attributes)||void 0===t?void 0:t.labelPosition)==Oe.TOP},set:function(e){var t=!0===e?Oe.TOP:void 0;n(he.UPDATE_FIELD,{prop:"labelPosition",scope:"attributes",value:t})}})}},components:(Ee={},Se=X.name,Ve=X,(Se=function(e){var t=function(e,t){if("object"!==ye(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!==ye(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ye(t)?t:String(t)}(Se))in Ee?Object.defineProperty(Ee,Se,{value:Ve,enumerable:!0,configurable:!0,writable:!0}):Ee[Se]=Ve,Ee)});var Ee,Se,Ve;const _e=(0,W.Z)(Pe,[["render",function(e,t,n,l,o,u){var a=(0,r.up)("el-checkbox"),i=(0,r.up)("el-radio-button"),d=(0,r.up)("el-radio-group"),f=(0,r.up)("field-setting");return(0,r.wg)(),(0,r.j4)(f,{field:e.field,placeholder:!1},{title:(0,r.w5)((function(){return[(0,r.Wm)(a,{title:"勾选则不显示标题",modelValue:e.hideTitle,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.hideTitle=t})},{default:(0,r.w5)((function(){return[(0,r.Uk)("隐藏标题")]})),_:1},8,["modelValue"]),(0,r.Wm)(a,{title:"勾选则标题位于顶部",modelValue:e.labelPosition,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.labelPosition=t})},{default:(0,r.w5)((function(){return[(0,r.Uk)("顶部对齐")]})),_:1},8,["modelValue"])]})),default:(0,r.w5)((function(){return[(0,r._)("section",de,[fe,(0,r.Wm)(d,{modelValue:e.layout,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.layout=t})},{default:(0,r.w5)((function(){return[(0,r.Wm)(i,{label:"modal",title:"选中则表单在弹出模态框中编辑"},{default:(0,r.w5)((function(){return[(0,r.Uk)("窗口")]})),_:1}),(0,r.Wm)(i,{label:"inline",title:"选中则表单在表格中直接编辑"},{default:(0,r.w5)((function(){return[(0,r.Uk)("行内")]})),_:1})]})),_:1},8,["modelValue"])]),(0,r._)("section",ce,[se,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.field.fields,(function(t){var n;return(0,r.wg)(),(0,r.iD)("div",{class:"xform-el-datatable-column",key:t.uid},[(0,r._)("div",{class:"xform-el-datatable-column-width",style:(0,_.j5)({width:"".concat(null!==(n=e.getColumnWidth(t.name))&&void 0!==n?n:e.DEF_COLUMN_WIDTH,"px")})},null,4),(0,r._)("label",null,(0,_.zw)(t.title),1),(0,r._)("input",{type:"number",min:"0",placeholder:"默认宽度".concat(e.DEF_COLUMN_WIDTH),value:e.getColumnWidth(t.name),onInput:function(n){return e.updateColWidth(n,t.name)}},null,40,pe)])})),128)),0==e.field.fields.length?((0,r.wg)(),(0,r.iD)("div",me,"请至少放入一个字段")):(0,r.kq)("",!0)])]})),_:1},8,["field"])}]]);n(561),n(4812);function we(e){return function(e){if(Array.isArray(e))return Te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function We(e){return function(e){if(Array.isArray(e))return xe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function je(e,t){var n=(0,q.iH)(!1),o=(0,r.FN)(),u=(0,l.I_)(),a=(0,q.iH)(null),i=(0,l.j9)(),d=null;function f(t){d=t;var l=function(e,t){return null==t?{}:e.reduce((function(e,n){var l,r=t[n.name],o=null===(l=r.conf)||void 0===l?void 0:l.onValueSubmit;return e[n.name]="function"==typeof o?o(r):r.value,e}),{})}(e.field.fields,d),r=e.field.fields.map((function(e){return e.clone(!0)}));a.value=u.value.genSchema({fields:r},l),n.value=!0}function c(){n.value=!1}function s(){var n=o.refs.form;if(null==n)return c();n.validate().then((function(n){var l,r,o;n.valid&&(null==d?(l=n.model,r=e.field.fields.reduce((function(t,n){var r=n.clone(!0);return r.setValue(l[n.name]),r.setParent(e.field),t[n.name]=r,t}),{}),(o=t.value).push(r),t.value=o):function(t){e.field.fields.forEach((function(e){var n=e.name;d[n].value=t[n]})),d=null}(n.model),c())}))}function p(e){var n=t.value,l=n.indexOf(e);l>=0&&(n.splice(l,1),t.value=n)}return(0,r.Jd)((function(){a.value=null,d=null})),function(){var l,o=e.field.fields.filter((function(e){return!0!==e.hidden}));if(0==o.length)return(0,r.Wm)("div",{class:"xform-is-unknown"},[(0,r.Uk)("请放入至少一个字段")]);var m=e.disabled||e.field.disabled,v=null!==(l=e.field.attributes.colWidths)&&void 0!==l?l:{},b={default:function(){var e={header:function(){return m?"#":(0,r.Wm)((0,r.up)("el-button"),{onClick:f.bind(null,null),type:"primary",size:"small",link:!0},{default:function(){return[(0,r.Uk)("添加")]}})}},t={default:function(e){return[(0,r.Wm)((0,r.up)("el-button"),{onClick:f.bind(null,e.row),type:"primary",size:"small",link:!0},{default:function(){return[(0,r.Uk)("编辑")]}}),(0,r.Wm)((0,r.up)("el-button"),{onClick:p.bind(null,e.row),type:"danger",size:"small",link:!0},{default:function(){return[(0,r.Uk)("删除")]}})]}},n=o.map((function(e){var t,n=null!==(t=v[e.name])&&void 0!==t?t:ve,l={default:function(t){var n=t.row[e.name];return i.renderField(n,{parentProps:{disabled:m},renderItem:function(e,t){return t.custom=!0,(0,r.h)(e,t,(function(){var e;return null!==(e=n.value)&&void 0!==e?e:u.value.viewerPlaceholder}))}})}};return(0,r.Wm)((0,r.up)("el-table-column"),{prop:e.name,label:e.title,"min-width":n,"label-class-name":e.required?"xform-is-required":null},l)}));return[(0,r.Wm)((0,r.up)("el-table-column"),{type:"index",fixed:"left",width:"60px"},e)].concat(We(n),[m?null:(0,r.Wm)((0,r.up)("el-table-column"),{label:"操作",fixed:"right",width:"100px",aligh:"right"},t)])}},y={default:function(){return n.value?(0,r.Wm)((0,r.up)("xform-builder"),{schema:a.value,ref:"form",onSubmit:s},{default:function(){return[(0,r.Wm)("button",{class:"xform-is-hidden",type:"submit"},null)]}}):null},footer:function(){return(0,r.Wm)("div",null,[(0,r.Wm)((0,r.up)("el-button"),{onClick:c},{default:function(){return[(0,r.Uk)("取消")]}}),(0,r.Wm)((0,r.up)("el-button"),{type:"primary",onClick:s},{default:function(){return[(0,r.Uk)("确定")]}})])}},g={"xform-el-datatable":!0,"xform-el-datatable-is-empty":0==t.value.length},h="".concat(null==d?"添加":"编辑","数据");return(0,r.Wm)(r.HY,null,[(0,r.Wm)((0,r.up)("el-table"),{class:g,size:"small","data-layout":"modal",data:t.value},b),(0,r.Wm)((0,r.up)("el-dialog"),{modelValue:n.value,"onUpdate:modelValue":function(e){return n.value=e},title:h,"custom-class":"xform-el-datatable-dialog","append-to-body":!0},y)])}}var ke=n(7736);function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function Ue(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Re(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!==Re(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Re(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ae=(0,l.hS)(),Ne=Ae.CLASS,De=Ae.PROPS,Ce=Ae.EVENTS,Ie=Ae.EnumValidateMode,Fe=(0,r.aZ)({name:"xform-el-datatable-preview",props:{field:{type:l.Wi,required:!0}},setup:function(e){var t=(0,l.j9)();return function(){var n,l,o=e.field,u=o.fields,a=null!==(n=o.attributes.colWidths)&&void 0!==n?n:{},i=0==u.length?(0,r.Wm)("p",{class:"".concat(Ne.IS_EMPTY_TIP," xform-el-empty-tip")},[(0,r.Uk)("请将左侧控件拖动到此处")]):u.map((function(e){return t.renderField(e,{renderItem:function(){var t,n={"xform-el-datatable-cell":!0,"xform-is-required":e.required},l={width:"".concat(null!==(t=a[e.name])&&void 0!==t?t:ve,"px")};return(0,r.Wm)("div",{class:n,style:l},[(0,r.Wm)("span",null,[e.title])])}})})),d=(Ue(l={class:"".concat(be," ").concat(Ne.DROPPABLE," ").concat(Ne.SCOPE)},"."+De.FIELD,e.field),Ue(l,"."+De.SCOPE,e.field),l);return(0,r.Wm)("div",{class:"xform-el-datatable ".concat(Ne.IS_SCROLL," ").concat(Ne.IS_HORIZONTAL_SCROLL)},[(0,r.Wm)("div",d,[i])])}}}),Ze=(0,r.aZ)({name:"xform-el-datatable",props:{field:{type:l.Wi,required:!0},disabled:{type:Boolean,default:!1}},emits:[Ce.UPDATE_VALUE],setup:function(e){var t=(0,w.Hg)(),n=je(e,t),o=function(e,t){var n=(0,l.j9)();function o(){var n=e.field.fields.reduce((function(t,n){var l=n.clone(!0);return l.setParent(e.field),t[n.name]=l,t}),{}),l=t.value;l.push(n),t.value=l}function u(e){var n=t.value,l=n.indexOf(e);l>=0&&(n.splice(l,1),t.value=n)}return function(){var l=e.field.fields.filter((function(e){return!0!==e.hidden}));if(0==l.length)return(0,r.Wm)("div",{class:"xform-is-unknown"},[(0,r.Uk)("请放入至少一个字段")]);var a=e.disabled||e.field.disabled,i={default:function(){var t,i={default:function(e){return[(0,r.Wm)("strong",{class:"xform-el-datatable-row-index"},[e.$index+1]),a?null:(0,r.Wm)((0,r.up)("el-button"),{onClick:u.bind(null,e.row),type:"danger",size:"small",link:!0,class:"xform-el-datatable-remove"},{default:function(){return[(0,r.Uk)("删除")]}})]},header:function(){return a?"#":(0,r.Wm)((0,r.up)("el-button"),{onClick:o,type:"primary",size:"small",link:!0},{default:function(){return[(0,r.Uk)("添加")]}})}},d=null!==(t=e.field.attributes.colWidths)&&void 0!==t?t:{},f=l.map((function(e){var t,l=null!==(t=d[e.name])&&void 0!==t?t:ve,o={default:function(t){return n.renderField(t.row[e.name],{parentProps:{disabled:a},renderItem:function(e,t,n){return t.label=!1,(0,r.h)(e,t,n)}})}};return(0,r.Wm)((0,r.up)("el-table-column"),{prop:e.name,label:e.title,"min-width":l,"label-class-name":e.required?"xform-is-required":null},o)}));return[(0,r.Wm)((0,r.up)("el-table-column"),{type:"index",fixed:"left",width:"60px"},i)].concat(we(f))}},d={"xform-el-datatable":!0,"xform-el-datatable-is-empty":0==t.value.length};return(0,r.Wm)((0,r.up)("el-table"),{data:t.value,size:"small",class:d,"data-layout":"inline"},i)}}(e,t);return function(){return"inline"==e.field.attributes.layout?o():n()}}}),Le=(0,r.aZ)({name:"xform-el-datatable-view",props:{field:{type:l.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e){var t=(0,w.Hg)(),n=(0,l.j9)(),o=(0,l.I_)();return function(){var l,u=e.field.fields;if(!Array.isArray(t.value)||0==t.value.length||0==u.length)return(0,r.Wm)("span",{class:"xform-viewer-value"},[o.value.viewerPlaceholder]);var a=null!==(l=e.field.attributes.colWidths)&&void 0!==l?l:{},i=t.value,d=u.map((function(e){var t,l=null!==(t=a[e.name])&&void 0!==t?t:ve,o={default:function(t){return n.renderField(t.row[e.name],{renderItem:function(e,t,n){return n()}})}};return(0,r.Wm)((0,r.up)("el-table-column"),{prop:e.name,label:e.title,"min-width":l,"label-class-name":e.required?"xform-is-required":null},o)}));return(0,r.Wm)((0,r.up)("el-table"),{data:i,size:"small",class:"xform-el-datatable"},{default:function(){return[(0,r.Wm)((0,r.up)("el-table-column"),{type:"index",width:60,fixed:"left"},null),d]}})}}});const Me=l.gN.create({type:"datatable",title:"数据表格",icon:ie.Z,buttons:[ke.n,l.gN.BUTTON_COPY,l.gN.BUTTON_REMOVE],accept:["text","textarea","number","select","radio","checkbox","date"],setting:_e,preview:Fe,build:Ze,view:Le,onDragOver:function(e){var t=e.currentTarget;if(t.matches("."+be)){e.stopPropagation(),e.preventDefault();var n=e.context,l=n.directionX,r=n.moveMarkEl,o=n.getRootScopeEl,u=e.dragElement.contains(t);r(l,u?e.dragElement:e.target,u?o():t)}},onDrop:function(e){e.stopPropagation()},onCreate:function(e,t,n){n&&(e.attributes.colWidths={},e.attributes.layout="modal")},onSubmit:function(e){var t,n,l=null!==(t=null===(n=e.attributes)||void 0===n?void 0:n.colWidths)&&void 0!==t?t:{},r=e.fields.map((function(e){return e.name}));for(var o in l)r.indexOf(o)<0&&delete l[o];return e},onValueInit:function(e,t){if(!Array.isArray(t))return[];var n=e.fields;return t.map((function(t){return n.reduce((function(n,l){var r=l.clone(!0);return r.setValue(t[l.name]),r.setParent(e),n[l.name]=r,n}),{})}))},onValueSubmit:function(e){if(Array.isArray(e.value)){var t=e.fields;return e.value.map((function(e){return t.map((function(e){return e.name})).reduce((function(t,n){var l,r=e[n],o=null===(l=r.conf)||void 0===l?void 0:l.onValueSubmit;return t[r.name]="function"==typeof o?o(r):r.value,t}),{})}))}},validator:function(e,t,n){if(e.required&&(0,l.xb)(t))return Promise.reject("必填");var r=t.reduce((function(e,t){return e.concat(Object.values(t))}),[]).map((function(e){return n.mode==Ie.RECURSIVE?e.validate({mode:Ie.RECURSIVE}):e.invalid?Promise.reject():Promise.resolve()}));return Promise.allSettled(r).then((function(e){return e.some((function(e){return"rejected"===e.status}))?Promise.reject("请补全必填内容"):Promise.resolve()}))},onValidate:function(e){return(0,l.xb)(e.title)?Promise.reject("标题为空"):0==e.fields.length?Promise.reject("至少需要一个字段"):Promise.resolve()}});var qe=n(6113);const Ye=(0,r.aZ)({name:"xform-el-date",props:{field:{type:l.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(){return{value:(0,w.Hg)(),popperOptions:{placement:"bottom-start"}}}}),He=(0,W.Z)(Ye,[["render",function(e,t,n,l,o,u){var a=(0,r.up)("el-date-picker");return(0,r.wg)(),(0,r.j4)(a,{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.value=t}),name:e.field.name,placeholder:e.field.placeholder,disabled:e.disabled||e.field.disabled,format:e.field.attributes.format,"value-format":e.field.attributes.valueFormat,editable:!1,"popper-options":e.popperOptions,class:"xform-el-date"},null,8,["modelValue","name","placeholder","disabled","format","value-format","popper-options"])}]]);var Be={class:"xform-el-field-setting-prop"},Ge=(0,r._)("header",null,"默认值：",-1);function Ke(e){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(e)}var Qe=(0,l.hS)(),ze=Qe.BuiltInDefaultValueType,Xe=Qe.EVENTS;const $e=(0,r.aZ)({name:"xform-el-date-setting",props:{field:l.Wi},emits:[Xe.UPDATE_FIELD],setup:function(){var e=[{value:ze.MANUAL,label:"手动指定"},{value:ze.DATE_NOW,label:"当前时间"}],t=(0,w.Xu)(e);return{isManual:t.useIsManual(),compatType:t.useCompatType(),compatValue:t.useCompatValue(),defTypes:e,popperOptions:{placement:"bottom-end"}}},components:function(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ke(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!==Ke(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ke(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},X.name,X)}),Je={classes:{defaultValue:"W1_4cM9t0XUQp3kkRER9"}},et=(0,W.Z)($e,[["render",function(e,t,n,l,o,u){var a=(0,r.up)("el-option"),i=(0,r.up)("el-select"),d=(0,r.up)("el-date-picker"),f=(0,r.up)("field-setting");return(0,r.wg)(),(0,r.j4)(f,{field:e.field},{default:(0,r.w5)((function(){return[(0,r._)("section",Be,[Ge,(0,r._)("div",{class:(0,_.C_)(e.classes.defaultValue)},[(0,r.Wm)(i,{modelValue:e.compatType,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.compatType=t})},{default:(0,r.w5)((function(){return[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.defTypes,(function(e,t){return(0,r.wg)(),(0,r.j4)(a,{key:t,value:e.value,label:e.label||e.value},null,8,["value","label"])})),128))]})),_:1},8,["modelValue"]),e.isManual?((0,r.wg)(),(0,r.j4)(d,{key:0,modelValue:e.compatValue,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.compatValue=t}),placeholder:"请选择默认时间",format:e.field.attributes.format,"value-format":e.field.attributes.valueFormat,editable:!1,"popper-options":e.popperOptions},null,8,["modelValue","format","value-format","popper-options"])):(0,r.kq)("",!0)],2)])]})),_:1},8,["field"])}],["__cssModules",Je]]),tt=l.gN.create({icon:qe.Z,type:"date",title:"日期",setting:et,build:He,onCreate:function(e){var t,n;e.attributes.format=null!==(t=e.attributes.format)&&void 0!==t?t:"YYYY-MM-DD",e.attributes.valueFormat=null!==(n=e.attributes.valueFormat)&&void 0!==n?n:"YYYY-MM-DD"},validator:function(e,t){return e.required&&(0,l.xb)(t)?Promise.reject("必填"):Promise.resolve()},logic:[p]});var nt=n(2209);var lt=n(898);function rt(e){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(e)}const ot=(0,r.aZ)({name:"xform-el-divider",inheritAttrs:!1,props:{field:{type:l.Wi,required:!0}},components:function(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==rt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!==rt(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},lt.Z.name,lt.Z)}),ut=(0,W.Z)(ot,[["render",function(e,t,n,l,o,u){var a=(0,r.up)("xform-divider");return(0,r.wg)(),(0,r.j4)(a,{class:"xform-item xform-el-divider",title:e.field.title,layout:e.field.attributes.layout,type:e.field.attributes.type,top:e.field.attributes.top,bottom:e.field.attributes.bottom},null,8,["title","layout","type","top","bottom"])}]]);var at,it={class:"xform-el-field-setting-prop xform-divider-types"},dt=(0,r._)("header",null,"样式：",-1),ft={class:"xform-el-field-setting-prop"},ct=(0,r._)("header",null,"间距：",-1),st={class:"xform-el-divider-range"},pt=(0,r._)("label",null,"上间距：",-1),mt={class:"xform-el-divider-range"},vt=(0,r._)("label",null,"下间距：",-1);function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function yt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==bt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!==bt(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===bt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gt=(0,l.hS)().EVENTS;const ht=(0,r.aZ)({name:"xform-el-divider-setting",props:{field:l.Wi},emits:[gt.UPDATE_FIELD],setup:function(){return{types:["solid","dashed","double","solid-dashed","dashed-solid"],compatType:(0,w.Et)("type","attributes"),compatTop:(0,w.Et)("top","attributes"),compatBottom:(0,w.Et)("bottom","attributes")}},components:(at={},yt(at,lt.Z.name,lt.Z),yt(at,X.name,X),at)}),Ot=(0,W.Z)(ht,[["render",function(e,t,n,l,o,u){var a=(0,r.up)("xform-divider"),i=(0,r.up)("el-radio"),d=(0,r.up)("el-slider"),f=(0,r.up)("field-setting");return(0,r.wg)(),(0,r.j4)(f,{field:e.field,placeholder:!1,attributes:!1},{default:(0,r.w5)((function(){return[(0,r._)("section",it,[dt,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.types,(function(n){return(0,r.wg)(),(0,r.j4)(i,{key:n,modelValue:e.compatType,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.compatType=t}),name:"setting-divider-type",label:n},{default:(0,r.w5)((function(){return[(0,r.Wm)(a,{type:n},null,8,["type"])]})),_:2},1032,["modelValue","label"])})),128))]),(0,r._)("section",ft,[ct,(0,r._)("div",st,[pt,(0,r.Wm)(d,{modelValue:e.compatTop,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.compatTop=t}),min:0,max:100,step:5,"show-stops":""},null,8,["modelValue"])]),(0,r._)("div",mt,[vt,(0,r.Wm)(d,{modelValue:e.compatBottom,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.compatBottom=t}),min:0,max:100,step:5,"show-stops":""},null,8,["modelValue"])])])]})),_:1},8,["field"])}]]),Pt=l.gN.create({icon:nt.Z,type:"divider",title:"分割线",custom:!0,setting:Ot,build:ut,view:ut,onCreate:function(e,t,n){n&&(e.attributes.type="solid",e.attributes.top=0,e.attributes.bottom=0)}});n(4819),n(3593);var Et=n(1993);function St(e){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},St(e)}var Vt=(0,l.hS)().EVENTS;const _t=(0,r.aZ)({name:"xform-el-group-setting",props:{field:l.Wi},emits:[Vt.UPDATE_FIELD],setup:function(){return{collapsable:(0,w.Et)("collapsable","attributes")}},components:function(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==St(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!==St(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===St(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},X.name,X)}),wt=(0,W.Z)(_t,[["render",function(e,t,n,l,o,u){var a=(0,r.up)("el-checkbox"),i=(0,r.up)("field-setting");return(0,r.wg)(),(0,r.j4)(i,{field:e.field,placeholder:!1,required:!1},{attributes:(0,r.w5)((function(){return[(0,r.Wm)(a,{name:"".concat(e.field.name,"-collapsable"),modelValue:e.collapsable,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.collapsable=t}),title:"勾选则支持展开/收起分组"},{default:(0,r.w5)((function(){return[(0,r.Uk)("允许收起")]})),_:1},8,["name","modelValue"])]})),_:1},8,["field"])}]]);function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}function Wt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Tt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!==Tt(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Tt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xt=(0,l.hS)(),jt=xt.SELECTOR,kt=xt.CLASS,Rt=xt.EnumRenderType,Ut=xt.PROPS,At=xt.EnumValidateMode,Nt=xt.EnumValidityState,Dt="xform-el-group-list",Ct=".".concat(Dt);function It(){var e=(0,q.iH)(!1);function t(){e.value=!e.value}return{collasped:e,renderHeader:function(n){if(null==n.title)return null;var l=!0===n.attributes.collapsable?(0,r.Wm)((0,r.up)("el-button"),{type:"text",title:e.value?"展开":"收起",onClick:t,size:"small"},{default:function(){return[e.value?"展开":"收起"]}}):null;return(0,r.Wm)("div",{class:"xform-el-card-header"},[(0,r.Wm)("h3",null,[n.title]),l])}}}var Ft=(0,r.aZ)({name:"xform-el-group",props:{field:{type:l.Wi,required:!0},behavior:{type:String,default:null},disabled:{type:Boolean,default:!1}},setup:function(e){var t=It(),n=t.collasped,o=t.renderHeader,u=(0,l.j9)();return function(){var t,l=e.field.value,a=e.field.fields,i=e.behavior==Rt.DESIGNER||u.type==Rt.DESIGNER,d=e.field.validation.message,f=e.disabled,c=Wt({"xform-item":!0,"xform-el-group":!0,"xform-is-collasped":n.value},kt.IS_ERROR,e.field.validation.valid==Nt.ERROR),s=i&&0==a.length?(0,r.Wm)("p",{class:[kt.IS_EMPTY_TIP,"xform-el-empty-tip"]},[(0,r.Uk)("请将左侧控件拖动到此处")]):null,p=a.map((function(e){return u.renderField(i?e:l[e.name],{parentProps:{disabled:f}})})),m=Wt({class:(t={},Wt(t,Dt,!0),Wt(t,kt.DROPPABLE,i),Wt(t,kt.SCOPE,i),t)},"."+Ut.FIELD,i?e.field:void 0),v={header:function(){return o(e.field)},default:function(){return(0,r.Wm)("div",m,[s,p])}};return(0,r.Wm)("div",{class:c},[(0,r.Wm)((0,r.up)("el-card"),{shadow:i?"never":"hover"},v),d&&(0,r.Wm)("p",{class:"xform-item-message"},[d])])}}}),Zt=(0,r.aZ)({name:"xform-el-group-view",props:{field:{type:l.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e){var t=(0,l.j9)().renderField,n=It(),o=n.collasped,u=n.renderHeader;return function(){var n=e.field.value,l=e.field.fields,a={"xform-item":!0,"xform-el-group":!0,"xform-is-collasped":o.value},i={header:function(){return u(e.field)},default:function(){return l.map((function(l){return t(n[l.name],{parentProps:{disabled:e.disabled}})}))}};return(0,r.Wm)("div",{class:a},[(0,r.Wm)((0,r.up)("el-card"),{shadow:"hover"},i)])}}});const Lt=l.gN.create({icon:Et.Z,type:"group",title:"分组",custom:!0,buttons:[ke.n,l.gN.BUTTON_COPY,l.gN.BUTTON_REMOVE],preview:Ft,setting:wt,build:Ft,view:Zt,onDragOver:function(e){var t=e.currentTarget;if(t.matches(Ct)){e.stopPropagation(),e.preventDefault();var n=e.context,l=n.directionY,r=n.moveMarkEl,o=e.dragElement.contains(t);r(l,o?e.dragElement:e.target,o?e.dragElement.parentElement.closest(jt.DROPPABLE):t)}},onDrop:function(e){e.currentTarget.matches(jt.SCOPE)&&e.stopPropagation()},onValueInit:function(e,t){var n=null==t||"object"!=Tt(t)?{}:t;return e.fields.reduce((function(t,l){var r=l.clone(!0);return r.setValue(n[l.name]),r.setParent(e),t[l.name]=r,t}),{})},onValueSubmit:function(e){var t=e.value;if(null!=t&&"object"==Tt(t)&&0!=Object.keys(t).length)return e.fields.map((function(e){return e.name})).reduce((function(e,n){var l=Reflect.get(t,n,t);if(null!=l){var r=l.conf,o="function"==typeof(null==r?void 0:r.onValueSubmit)?r.onValueSubmit(l):l.value;Reflect.set(e,n,o,e)}return e}),{})},validator:function(e,t,n){var l=e.value,r=Object.keys(l).map((function(e){var t=l[e];return n.mode==At.RECURSIVE?t.validate({mode:At.RECURSIVE}):t.invalid?Promise.reject():Promise.resolve()}));return Promise.allSettled(r).then((function(e){return e.some((function(e){return"rejected"===e.status}))?Promise.reject("请补全必填内容"):Promise.resolve()}))}});var Mt=n(4874),qt=(0,r._)("span",null,"默认值：",-1);function Yt(e){return Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yt(e)}var Ht=(0,l.hS)().EVENTS;const Bt=(0,r.aZ)({name:"xform-el-number-setting",props:{field:l.Wi},emits:[Ht.UPDATE_FIELD],setup:function(e){var t=(0,w.Xu)(),n=(0,q.iH)(1),o=(0,w.Et)("integer","attributes"),u=t.useCompatValue((function(e){var t=e.value;return"number"==typeof t?t:(0,l.xb)(t)?NaN:Number(t)}));return(0,r.YP)(o,(function(e){if(e){var t=u.value;isNaN(t)||(u.value=Math.round(t))}})),{integer:o,compatValue:u,version:n,updateValue:function(t){if(!(!0===e.field.attributes.integer))return u.value=t;u.value=Math.round(t),n.value++},clearDefaultValue:function(){u.value=null,n.value++}}},components:function(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Yt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!==Yt(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Yt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},X.name,X)}),Gt={classes:{propDefaultValue:"gDh76HrtnYJROGe9waEL"}},Kt=(0,W.Z)(Bt,[["render",function(e,t,n,l,o,u){var a=(0,r.up)("el-button"),i=(0,r.up)("el-input-number"),d=(0,r.up)("el-checkbox"),f=(0,r.up)("field-setting");return(0,r.wg)(),(0,r.j4)(f,{field:e.field},{attributes:(0,r.w5)((function(){return[(0,r.Wm)(d,{title:"勾选则只允许输入整数",modelValue:e.integer,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.integer=t})},{default:(0,r.w5)((function(){return[(0,r.Uk)("整数")]})),_:1},8,["modelValue"])]})),default:(0,r.w5)((function(){return[(0,r._)("section",{class:(0,_.C_)(["xform-el-field-setting-prop",e.classes.propDefaultValue])},[(0,r._)("header",null,[qt,(0,r.Wm)(a,{onClick:e.clearDefaultValue,type:"primary",link:""},{default:(0,r.w5)((function(){return[(0,r.Uk)("清除")]})),_:1},8,["onClick"])]),((0,r.wg)(),(0,r.j4)(i,{"model-value":e.compatValue,key:e.version,placeholder:"[可选] 如果字段没有填写，默认为设定的值","controls-position":"right","onUpdate:modelValue":e.updateValue},null,8,["model-value","onUpdate:modelValue"]))],2)]})),_:1},8,["field"])}],["__cssModules",Gt]]);const Qt=(0,r.aZ)({name:"xform-el-number",props:{field:{type:l.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e){var t=(0,q.iH)(1),n=(0,w.Hg)(NaN);return{value:n,version:t,updateValue:function(l){if(!(!0===e.field.attributes.integer))return n.value=l;n.value=Math.round(l),t.value++}}}}),zt=(0,W.Z)(Qt,[["render",function(e,t,n,l,o,u){var a=(0,r.up)("el-input-number");return(0,r.wg)(),(0,r.j4)(a,{key:e.version,id:e.field.uid,name:e.field.name,"model-value":e.value,placeholder:e.field.placeholder,disabled:e.disabled||e.field.disabled,"controls-position":"right",class:"xform-el-number","onUpdate:modelValue":e.updateValue},null,8,["id","name","model-value","placeholder","disabled","onUpdate:modelValue"])}]]),Xt=l.gN.create({icon:Mt.Z,type:"number",title:"数字",setting:Kt,build:zt,validator:function(e,t){return e.required&&(0,l.xb)(t)?Promise.reject("必填"):e.attributes.integer&&!/^[-+]?[1-9]?\d+$/.test(t+"")?Promise.reject("请输入整数"):Promise.resolve()},onValueInit:function(e,t){return parseFloat(t)},logic:[s]});var $t=n(3684);const Jt=(0,r.aZ)({name:"xform-el-radio",props:{field:{type:l.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e){return{value:(0,w.Hg)(),className:(0,r.Fl)((function(){var t=["xform-el-radio"];return"block"==e.field.attributes.layout&&t.push("xform-el-radio-block"),t}))}}}),en=(0,W.Z)(Jt,[["render",function(e,t,n,l,o,u){var a=(0,r.up)("el-radio"),i=(0,r.up)("el-radio-group");return(0,r.wg)(),(0,r.j4)(i,{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.value=t}),disabled:e.disabled||e.field.disabled,class:(0,_.C_)(e.className)},{default:(0,r.w5)((function(){return[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.field.options,(function(t,n){return(0,r.wg)(),(0,r.j4)(a,{key:n,label:t.value,name:e.field.name},null,8,["label","name"])})),128))]})),_:1},8,["modelValue","disabled","class"])}]]);var tn={class:"xform-el-field-setting-prop"},nn=(0,r._)("header",null,"布局：",-1),ln={class:"xform-el-field-setting-prop"},rn=(0,r._)("header",null,"选项：",-1),on={class:"xform-el-field-setting-prop"},un=(0,r._)("header",null,"默认值：",-1);function an(e){return an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},an(e)}function dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function fn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==an(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!==an(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===an(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cn=(0,l.hS)(),sn=cn.BuiltInDefaultValueType,pn=cn.EVENTS;const mn=(0,r.aZ)({name:"xform-el-radio-setting",props:{field:l.Wi},emits:[pn.UPDATE_FIELD],setup:function(){var e=[{value:sn.MANUAL,label:"手动指定"},{value:sn.OPTION_FIRST,label:"首选项"}],t=(0,w.D2)((function(){if(!l.value)return;var e=t.options.value,n=o.value;o.value=e.some((function(e){return e.value==n}))?n:void 0})),n=(0,w.Xu)(e),l=n.useIsManual(),r=n.useCompatType(),o=n.useCompatValue((function(e){return e.value||""}));return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(n),!0).forEach((function(t){fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({compatType:r,compatValue:o,defTypes:e,isManual:l,layout:(0,w.Et)("layout","attributes")},t)},components:fn({},X.name,X)}),vn={classes:{defaultValue:"EYoxV2gUxNnFruKVfDOr",compatType:"yMYY62i8ZM4c4tyPF03w",compatValue:"fCqRxjv_hPijVSX_zf06"}},bn=(0,W.Z)(mn,[["render",function(e,t,n,l,o,u){var a=(0,r.up)("el-radio-button"),i=(0,r.up)("el-radio-group"),d=(0,r.up)("el-input"),f=(0,r.up)("el-button"),c=(0,r.up)("el-option"),s=(0,r.up)("el-select"),p=(0,r.up)("field-setting");return(0,r.wg)(),(0,r.j4)(p,{field:e.field,placeholder:!1},{default:(0,r.w5)((function(){return[(0,r._)("section",tn,[nn,(0,r.Wm)(i,{modelValue:e.layout,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.layout=t})},{default:(0,r.w5)((function(){return[(0,r.Wm)(a,{label:"inline"},{default:(0,r.w5)((function(){return[(0,r.Uk)("行内")]})),_:1}),(0,r.Wm)(a,{label:"block"},{default:(0,r.w5)((function(){return[(0,r.Uk)("换行")]})),_:1})]})),_:1},8,["modelValue"])]),(0,r._)("section",ln,[rn,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.options,(function(t,n){return(0,r.wg)(),(0,r.iD)("div",{key:n,class:"xform-el-setting-option"},[(0,r.Wm)(d,{modelValue:t.value,"onUpdate:modelValue":function(e){return t.value=e},placeholder:"请输入选项内容"},null,8,["modelValue","onUpdate:modelValue"]),(0,r.Wm)(f,{type:"danger",link:"",onClick:function(n){return e.removeOption(t)},disabled:e.field.options.length<=1},{default:(0,r.w5)((function(){return[(0,r.Uk)("删除")]})),_:2},1032,["onClick","disabled"])])})),128)),(0,r.Wm)(f,{type:"primary",onClick:e.addOption,link:""},{default:(0,r.w5)((function(){return[(0,r.Uk)("添加选项")]})),_:1},8,["onClick"])]),(0,r._)("section",on,[un,(0,r._)("div",{class:(0,_.C_)(e.classes.defaultValue)},[(0,r.Wm)(s,{modelValue:e.compatType,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.compatType=t}),class:(0,_.C_)(e.classes.compatType)},{default:(0,r.w5)((function(){return[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.defTypes,(function(e,t){return(0,r.wg)(),(0,r.j4)(c,{key:t,value:e.value,label:e.label||e.value},null,8,["value","label"])})),128))]})),_:1},8,["modelValue","class"]),e.isManual?((0,r.wg)(),(0,r.j4)(s,{key:0,modelValue:e.compatValue,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.compatValue=t}),class:(0,_.C_)(e.classes.compatValue),placeholder:"请选择",clearable:""},{default:(0,r.w5)((function(){return[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.options,(function(e,t){return(0,r.wg)(),(0,r.j4)(c,{key:t,value:e.value,label:e.label||e.value},null,8,["value","label"])})),128))]})),_:1},8,["modelValue","class"])):(0,r.kq)("",!0)],2)])]})),_:1},8,["field"])}],["__cssModules",vn]]),yn=l.gN.create({icon:$t.Z,type:"radio",title:"单选",setting:bn,build:en,validator:function(e,t){return e.required&&(0,l.xb)(t)?Promise.reject("必填"):Promise.resolve()},onCreate:function(e,t,n){var l=Array.isArray(t.options)?t.options:[];n&&(l.push({value:"选项1"}),e.attributes.layout="inline"),e.options=l},logic:[P]});var gn=n(1871);const hn=(0,r.aZ)({name:"xform-el-select",props:{field:{type:l.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(){return{value:(0,w.Hg)()}}}),On=(0,W.Z)(hn,[["render",function(e,t,n,l,o,u){var a=(0,r.up)("el-option"),i=(0,r.up)("el-select");return(0,r.wg)(),(0,r.j4)(i,{name:e.field.name,disabled:e.disabled||e.field.disabled,placeholder:e.field.placeholder,modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.value=t}),class:"xform-el-select",clearable:""},{default:(0,r.w5)((function(){return[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.field.options,(function(e,t){return(0,r.wg)(),(0,r.j4)(a,{key:t,value:e.value,label:e.value},null,8,["value","label"])})),128))]})),_:1},8,["name","disabled","placeholder","modelValue"])}]]);var Pn={class:"xform-el-field-setting-prop"},En=(0,r._)("header",null,"选项：",-1),Sn={class:"xform-el-field-setting-prop"},Vn=(0,r._)("header",null,"默认值：",-1);function _n(e){return _n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_n(e)}function wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function Tn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==_n(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!==_n(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wn=(0,l.hS)(),xn=Wn.BuiltInDefaultValueType,jn=Wn.EVENTS;const kn=(0,r.aZ)({name:"xform-el-select-setting",props:{field:l.Wi},emits:[jn.UPDATE_FIELD],setup:function(){var e=[{value:xn.MANUAL,label:"手动指定"},{value:xn.OPTION_FIRST,label:"首选项"}],t=(0,w.D2)((function(){if(!l.value)return;var e=t.options.value,n=o.value;o.value=e.some((function(e){return e.value==n}))?n:void 0})),n=(0,w.Xu)(e),l=n.useIsManual(),r=n.useCompatType(),o=n.useCompatValue((function(e){return e.value||""}));return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(n),!0).forEach((function(t){Tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({compatType:r,compatValue:o,defTypes:e,isManual:l},t)},components:Tn({},X.name,X)}),Rn={classes:{defaultValue:"buWLHnYOZJ9q5aMiviBh",compatType:"IznQOOjQcNY3r9kGdoEY",compatValue:"j7F9f5B2UoshYHqgEw42"}},Un=(0,W.Z)(kn,[["render",function(e,t,n,l,o,u){var a=(0,r.up)("el-input"),i=(0,r.up)("el-button"),d=(0,r.up)("el-option"),f=(0,r.up)("el-select"),c=(0,r.up)("field-setting");return(0,r.wg)(),(0,r.j4)(c,{field:e.field},{default:(0,r.w5)((function(){return[(0,r._)("section",Pn,[En,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.options,(function(t,n){return(0,r.wg)(),(0,r.iD)("div",{key:n,class:"xform-el-setting-option"},[(0,r.Wm)(a,{modelValue:t.value,"onUpdate:modelValue":function(e){return t.value=e},placeholder:"请输入选项内容"},null,8,["modelValue","onUpdate:modelValue"]),(0,r.Wm)(i,{type:"danger",link:"",onClick:function(n){return e.removeOption(t)},disabled:e.field.options.length<=1},{default:(0,r.w5)((function(){return[(0,r.Uk)("删除")]})),_:2},1032,["onClick","disabled"])])})),128)),(0,r.Wm)(i,{type:"primary",onClick:e.addOption,link:""},{default:(0,r.w5)((function(){return[(0,r.Uk)("添加选项")]})),_:1},8,["onClick"])]),(0,r._)("section",Sn,[Vn,(0,r._)("div",{class:(0,_.C_)(e.classes.defaultValue)},[(0,r.Wm)(f,{modelValue:e.compatType,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.compatType=t}),class:(0,_.C_)(e.classes.compatType)},{default:(0,r.w5)((function(){return[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.defTypes,(function(e,t){return(0,r.wg)(),(0,r.j4)(d,{key:t,value:e.value,label:e.label||e.value},null,8,["value","label"])})),128))]})),_:1},8,["modelValue","class"]),e.isManual?((0,r.wg)(),(0,r.j4)(f,{key:0,modelValue:e.compatValue,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.compatValue=t}),class:(0,_.C_)(e.classes.compatValue),placeholder:"请选择",clearable:""},{default:(0,r.w5)((function(){return[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.options,(function(e,t){return(0,r.wg)(),(0,r.j4)(d,{key:t,value:e.value,label:e.label||e.value},null,8,["value","label"])})),128))]})),_:1},8,["modelValue","class"])):(0,r.kq)("",!0)],2)])]})),_:1},8,["field"])}],["__cssModules",Rn]]),An=l.gN.create({icon:gn.Z,type:"select",title:"下拉选择",setting:Un,build:On,validator:function(e,t){return e.required&&(0,l.xb)(t)?Promise.reject("必填"):Promise.resolve()},onCreate:function(e,t,n){var l=Array.isArray(t.options)?t.options:[];n&&l.push({value:"选项1"}),e.options=l},logic:[P]});n(6541),n(9600);var Nn=n(3720);function Dn(e){return Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dn(e)}function Cn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Dn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!==Dn(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Dn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var In=(0,l.hS)(),Fn=In.SELECTOR,Zn=In.CLASS,Ln=In.PROPS,Mn=In.EnumValidateMode,qn=In.EnumRenderType;const Yn=l.gN.create({type:"tabs.pane",title:"标签面板",custom:!0,build:(0,r.aZ)({name:"xform-el-tabs-pane",props:{field:{type:l.Wi,required:!0},behavior:{type:String,default:null},disabled:{type:Boolean,default:!1}},setup:function(e){return function(){var t,n,o=(0,l.j9)(),u=e.field.fields,a=null!==(t=e.field.value)&&void 0!==t?t:{},i=e.behavior==qn.DESIGNER||o.type==qn.DESIGNER,d=i&&0==u.length?(0,r.Wm)("p",{class:[Zn.IS_EMPTY_TIP,"xform-el-empty-tip"]},[(0,r.Uk)("请将左侧控件拖动到此处")]):u.map((function(t){return o.renderField(i?t:a[t.name],{parentProps:{disabled:e.disabled}})})),f=Cn({class:(n={"xform-el-tab-pane":!0},Cn(n,Zn.DROPPABLE,i),Cn(n,Zn.SCOPE,i),n)},"."+Ln.FIELD,i?e.field:void 0);return(0,r.Wm)("div",f,[d])}}}),view:(0,r.aZ)({name:"xform-el-tabs-pane-view",props:{field:{type:l.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e){var t,n=(0,l.j9)(),o=null!==(t=e.field.value)&&void 0!==t?t:{};return function(){var t=e.field.fields;return(0,r.Wm)("div",{class:"xform-el-tab-pane"},[t.map((function(t){return n.renderField(o[t.name],{parentProps:{disabled:e.disabled}})}))])}}}),onDragOver:function(e){var t=e.currentTarget;e.stopPropagation(),e.preventDefault();var n=e.context,l=n.directionY,r=n.moveMarkEl,o=e.dragElement.contains(t);r(l,o?e.dragElement:e.target,o?e.dragElement.parentElement.closest(Fn.DROPPABLE):t)},onDrop:function(e){e.stopPropagation()},onValueInit:function(e,t){var n=null!=t?t:{};return e.fields.reduce((function(t,l){var r=l.name,o=l.clone(!0);return o.setValue(n[r]),o.setParent(e),t[r]=o,t}),{})},onValueSubmit:function(e){var t,n=null!==(t=e.value)&&void 0!==t?t:{};return e.fields.map((function(e){return e.name})).reduce((function(e,t){var l,r=n[t],o=null===(l=r.conf)||void 0===l?void 0:l.onValueSubmit;return e[t]="function"==typeof o?o(r):r.value,e}),{})},validator:function(e,t,n){var l=Object.values(null!=t?t:{}).map((function(e){return n.mode==Mn.RECURSIVE?e.validate({mode:Mn.RECURSIVE}):e.invalid?Promise.reject():Promise.resolve()}));return Promise.allSettled(l).then((function(t){return t.some((function(e){return"rejected"===e.status}))?Promise.reject("请补全标签页[".concat(e.title,"]必填内容")):Promise.resolve()}))}});function Hn(e){return Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(e)}function Bn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Hn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!==Hn(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Hn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gn(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,r.lA)(e)}var Kn=(0,l.hS)(),Qn=Kn.CLASS,zn=Kn.EnumValidityState,Xn=Kn.EVENTS,$n=Kn.EnumRenderType,Jn=(0,r.aZ)({name:"xform-el-tabs-setting",props:{field:{type:l.Wi,required:!0}},emits:[Xn.UPDATE_FIELD],setup:function(e){var t=(0,w.Et)("hideTitle","attributes");function n(){var t=e.field,n=new l.Wi(Yn);n.title="标签".concat(e.field.fields.length+1),t.push(n)}function o(t){var n=e.field;n.fields.length<=1||n.remove(t)}function u(t){t<=0||e.field.fields[t].move(t-1)}function a(t){t>=e.field.fields.length-1||e.field.fields[t].move(t+1)}return function(){var l=e.field,i=l.fields.map((function(e,t){var n=l.fields.length;return(0,r.Wm)("div",{class:"xform-el-setting-option xform-el-tabs-option"},[(0,r.Wm)((0,r.up)("el-input"),{placeholder:"请输入标签名称",modelValue:e.title,"onUpdate:modelValue":function(t){return e.title=t}},null),(0,r.Wm)((0,r.up)("el-button"),{type:"primary",link:!0,onClick:u.bind(null,t),disabled:0==t},{default:function(){return[(0,r.Uk)("上移")]}}),(0,r.Wm)((0,r.up)("el-button"),{type:"primary",link:!0,onClick:a.bind(null,t),disabled:t==n-1},{default:function(){return[(0,r.Uk)("下移")]}}),(0,r.Wm)((0,r.up)("el-button"),{type:"danger",link:!0,onClick:o.bind(null,e),disabled:n<=1},{default:function(){return[(0,r.Uk)("删除")]}})])})),d={default:function(){return(0,r.Wm)("div",{class:"xform-el-field-setting-prop"},[(0,r.Wm)("header",null,[(0,r.Uk)("标签：")]),i,(0,r.Wm)((0,r.up)("el-button"),{type:"primary",onClick:n,link:!0},{default:function(){return[(0,r.Uk)("添加标签")]}})])},attributes:function(){return(0,r.Wm)((0,r.up)("el-checkbox"),{name:"".concat(l.name,"-hide-title"),modelValue:t.value,"onUpdate:modelValue":function(e){return t.value=e},title:"勾选则不显示标题"},{default:function(){return[(0,r.Uk)("隐藏标题")]}})}};return(0,r.Wm)((0,r.up)("field-setting"),{field:l,placeholder:!1,required:!1},d)}},components:Bn({},X.name,X)});function el(e){return e.validation.valid!==zn.ERROR?null:(0,r.Wm)("p",{class:"xform-item-message"},[e.validation.message])}var tl=(0,r.aZ)({name:"xform-el-tabs",props:{field:{type:l.Wi,required:!0},behavior:{type:String,default:null},disabled:{type:Boolean,default:!1}},setup:function(e){var t=(0,q.iH)(e.field.fields[0].name),n=(0,l.j9)();return(0,r.Jd)((0,r.YP)(e.field.fields,(function(e){e.every((function(e){return e.name!=t.value}))&&(t.value=e[e.length-1].name)}))),function(){var l,o=e.field,u=null!==(l=o.value)&&void 0!==l?l:{},a=e.disabled,i=!0!==o.attributes.hideTitle,d=e.behavior==$n.DESIGNER||n.type==$n.DESIGNER,f=o.fields.map((function(e){var t;return(0,r.Wm)((0,r.up)("el-tab-pane"),{label:e.title,name:e.name,lazy:!0},Gn(t=n.renderField(d?e:u[e.name],{parentProps:{disabled:a},renderPreivew:function(e,t,n,l){return l()}}))?t:{default:function(){return[t]}})})),c={class:Bn({"xform-item":!0,"xform-el-tabs":!0,"xform-is-with-title":i},Qn.IS_ERROR,o.invalid),style:i?{"--xform-el-tabs-field-title":'"'.concat(o.title,'"')}:null};return(0,r.Wm)("div",c,[(0,r.Wm)((0,r.up)("el-tabs"),{modelValue:t.value,"onUpdate:modelValue":function(e){return t.value=e},type:"border-card"},Gn(f)?f:{default:function(){return[f]}}),el(o)])}}});const nl=l.gN.create({type:"tabs",title:"标签页",icon:Nn.Z,custom:!0,setting:Jn,build:tl,view:tl,dependencies:[Yn],onCreate:function(e,t,n){if(n){var r=new l.Wi(Yn);r.title="标签".concat(e.fields.length+1),e.push(r)}},onValueInit:function(e,t){var n=null!=t?t:{};return e.fields.reduce((function(t,l){var r=l.name,o=l.clone(!0);return o.setValue(n[r]),o.setParent(e),t[r]=o,t}),{})},onValueSubmit:function(e){var t,n=null!==(t=e.value)&&void 0!==t?t:{};return e.fields.map((function(e){return e.name})).reduce((function(e,t){var l,r=n[t],o=null===(l=r.conf)||void 0===l?void 0:l.onValueSubmit;return e[t]="function"==typeof o?o(r):r.value,e}),{})},validator:function(e,t,n){var l=Object.values(null!=t?t:{}).map((function(e){return e.validate({mode:n.mode})}));return Promise.allSettled(l).then((function(e){var t=e.map((function(e){return"rejected"==e.status?e.reason:null})).filter((function(e){return e}));return t.length>0?Promise.reject(t.join("\n")):Promise.resolve()}))}});var ll=n(3161);const rl=(0,r.aZ)({name:"xform-el-text",props:{field:{type:l.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(){return{value:(0,w.Hg)()}}}),ol=(0,W.Z)(rl,[["render",function(e,t,n,l,o,u){var a=(0,r.up)("el-input");return(0,r.wg)(),(0,r.j4)(a,{modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.value=t}),id:e.field.uid,name:e.field.name,placeholder:e.field.placeholder,disabled:e.disabled||e.field.disabled,class:"xform-el-text"},null,8,["modelValue","id","name","placeholder","disabled"])}]]);var ul={class:"xform-el-field-setting-prop"},al=(0,r._)("header",null,"默认值：",-1);function il(e){return il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(e)}var dl=(0,l.hS)().EVENTS;const fl=(0,r.aZ)({name:"xform-el-text-setting",props:{field:l.Wi},emits:[dl.UPDATE_FIELD],setup:function(){return{compatValue:(0,w.Xu)([]).useCompatValue()}},components:function(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==il(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!==il(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===il(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},X.name,X)}),cl=(0,W.Z)(fl,[["render",function(e,t,n,l,o,u){var a=(0,r.up)("el-input"),i=(0,r.up)("field-setting");return(0,r.wg)(),(0,r.j4)(i,{field:e.field},{default:(0,r.w5)((function(){return[(0,r._)("section",ul,[al,(0,r.Wm)(a,{modelValue:e.compatValue,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.compatValue=t}),placeholder:"[可选] 如果字段没有填写，默认为设定的值"},null,8,["modelValue"])])]})),_:1},8,["field"])}]]),sl=l.gN.create({icon:ll.Z,type:"text",title:"单行文本",setting:cl,build:ol,validator:function(e,t){return e.required&&(0,l.xb)(t)?Promise.reject("必填"):Promise.resolve()},logic:[f,c]});var pl=n(3923);const ml=(0,r.aZ)({name:"xform-el-textarea",props:{field:{type:l.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(){return{value:(0,w.Hg)()}}}),vl=(0,W.Z)(ml,[["render",function(e,t,n,l,o,u){var a=(0,r.up)("el-input");return(0,r.wg)(),(0,r.j4)(a,{type:"textarea",modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.value=t}),id:e.field.uid,name:e.field.name,rows:3,placeholder:e.field.placeholder,disabled:e.disabled||e.field.disabled,class:"xform-el-textarea"},null,8,["modelValue","id","name","placeholder","disabled"])}]]);var bl={class:"xform-el-field-setting-prop"},yl=(0,r._)("header",null,"默认值：",-1);function gl(e){return gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(e)}var hl=(0,l.hS)().EVENTS;const Ol=(0,r.aZ)({name:"xform-el-textarea-setting",props:{field:l.Wi},emits:[hl.UPDATE_FIELD],setup:function(){return{compatValue:(0,w.Xu)([]).useCompatValue()}},components:function(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==gl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!==gl(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===gl(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},X.name,X)}),Pl=(0,W.Z)(Ol,[["render",function(e,t,n,l,o,u){var a=(0,r.up)("el-input"),i=(0,r.up)("field-setting");return(0,r.wg)(),(0,r.j4)(i,{field:e.field},{default:(0,r.w5)((function(){return[(0,r._)("section",bl,[yl,(0,r.Wm)(a,{modelValue:e.compatValue,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.compatValue=t}),placeholder:"[可选] 如果字段没有填写，默认为设定的值"},null,8,["modelValue"])])]})),_:1},8,["field"])}]]),El=l.gN.create({icon:pl.Z,type:"textarea",title:"多行文本",setting:Pl,build:vl,validator:function(e,t){return e.required&&(0,l.xb)(t)?Promise.reject("必填"):Promise.resolve()},logic:[f,c]});var Sl=[ae,Me,tt,Pt,Lt,Xt,yn,An,nl,sl,El];const Vl={use:function(){(0,l.sZ)(Sl)},remove:function(){Sl.forEach(l.QZ)}};var _l={class:"xform-setting"},wl=(0,r._)("header",null,"标题后缀：",-1),Tl={class:"xform-setting"},Wl=(0,r._)("header",null,"空值显示为：",-1),xl={class:"xform-setting"},jl=(0,r._)("header",null,"标题位置：",-1);n(6699),n(2023);var kl=(0,l.hS)(),Rl=kl.EVENTS,Ul=kl.LabelPosition,Al=Object.values(Ul);const Nl=(0,r.aZ)({name:"form-setting",props:{schema:{type:l.GH,required:!0}},emits:[Rl.UPDATE_PROP],setup:function(){return{LabelPosition:Ul,labelPosition:(0,w.yj)("labelPosition",(function(e){var t=e.labelPosition;return Al.includes(t)?t:Ul.LEFT})),labelSuffix:(0,w.yj)("labelSuffix"),viewerPlaceholder:(0,w.yj)("viewerPlaceholder")}}}),Dl=(0,W.Z)(Nl,[["render",function(e,t,n,l,o,u){var a=(0,r.up)("el-input"),i=(0,r.up)("el-radio-button"),d=(0,r.up)("el-radio-group");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("section",_l,[wl,(0,r.Wm)(a,{modelValue:e.labelSuffix,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.labelSuffix=t}),placeholder:"请输入标题后缀..."},null,8,["modelValue"])]),(0,r._)("section",Tl,[Wl,(0,r.Wm)(a,{modelValue:e.viewerPlaceholder,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.viewerPlaceholder=t}),placeholder:"查看表单时如果值为空，则显示输入值"},null,8,["modelValue"])]),(0,r._)("section",xl,[jl,(0,r.Wm)(d,{modelValue:e.labelPosition,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.labelPosition=t})},{default:(0,r.w5)((function(){return[(0,r.Wm)(i,{label:e.LabelPosition.LEFT},{default:(0,r.w5)((function(){return[(0,r.Uk)("左对齐")]})),_:1},8,["label"]),(0,r.Wm)(i,{label:e.LabelPosition.TOP},{default:(0,r.w5)((function(){return[(0,r.Uk)("顶部对齐")]})),_:1},8,["label"]),(0,r.Wm)(i,{label:e.LabelPosition.RIGHT},{default:(0,r.w5)((function(){return[(0,r.Uk)("右对齐")]})),_:1},8,["label"])]})),_:1},8,["modelValue"])])],64)}]]);const Cl={name:"element-plus",version:"0.8.1",install:function(){return(0,l.QL)("setting_form",Dl),Vl.use(),S.use(),function(){(0,l.ac)("setting_form"),Vl.remove(),S.remove()}}}}}]);