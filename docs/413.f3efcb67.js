(self.webpackChunkxform=self.webpackChunkxform||[]).push([[413],{5326:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Hr});n(9554),n(1539),n(4747);var l=n(1965),r=n(6252),i=n(3577),o={class:"xform-setting"},a=(0,r._)("header",null,"标题后缀：",-1),u=["value"],s={class:"xform-setting"},c=(0,r._)("header",null,"空值显示为：",-1),d=["value"],f={class:"xform-setting"},p=(0,r._)("header",null,"标题位置：",-1),m={class:"btn-group",role:"group"};n(2479),n(6699),n(2023);var b=n(2262),v=(0,l.hS)(),y=v.EVENTS,g=v.LabelPosition,h=Object.values(g);const x=(0,r.aZ)({name:"xform-bs-setting",props:{schema:{type:Object,required:!0}},emits:[y.UPDATE_PROP],setup:function(e,t){var n=t.emit;return{updateProp:function(e,t){n(y.UPDATE_PROP,{prop:e,value:t})},labelPosition:(0,b.Fl)((function(){var t=e.schema.labelPosition;return h.includes(t)?t:"left"}))}}});var w=n(3744);const k=(0,w.Z)(x,[["render",function(e,t,n,l,b,v){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("section",o,[a,(0,r._)("input",{value:e.schema.labelSuffix,type:"text",class:"form-control form-control-sm",placeholder:"请输入标题后缀...",onInput:t[0]||(t[0]=function(t){return e.updateProp("labelSuffix",t.target.value)})},null,40,u)]),(0,r._)("section",s,[c,(0,r._)("input",{value:e.schema.viewerPlaceholder,type:"text",class:"form-control form-control-sm",placeholder:"查看表单时如果值为空，则显示输入值",onInput:t[1]||(t[1]=function(t){return e.updateProp("viewerPlaceholder",t.target.value)})},null,40,d)]),(0,r._)("section",f,[p,(0,r._)("div",m,[(0,r._)("button",{type:"button",class:(0,i.C_)(["btn btn-sm btn-primary",{active:"left"==e.labelPosition}]),onClick:t[2]||(t[2]=function(t){return e.updateProp("labelPosition","left")})},"左对齐",2),(0,r._)("button",{type:"button",class:(0,i.C_)(["btn btn-sm btn-primary",{active:"top"==e.labelPosition}]),onClick:t[3]||(t[3]=function(t){return e.updateProp("labelPosition","top")})},"顶部对齐",2),(0,r._)("button",{type:"button",class:(0,i.C_)(["btn btn-sm btn-primary",{active:"right"==e.labelPosition}]),onClick:t[4]||(t[4]=function(t){return e.updateProp("labelPosition","right")})},"右对齐",2)])])],64)}]]);n(8674);var _=n(3161),W=(n(8309),n(9963)),P=["id","name","placeholder","disabled"];n(4678),n(1038),n(8783),n(1249),n(7327);var E=n(3477),O=(0,l.hS)().EVENTS;function D(e){return"_value"in e?e._value:e.value}function S(e){var t=e.checked,n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}function C(e){return null==D(e)?e.checked:e.value}function j(e){var t=e.selectedIndex;return t<0?null:D(e.options[t])}function V(e,t,n,l){var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"build",n=e.value,l=e.type;if("number"==l){var r=parseFloat(n);return isNaN(r)?n:r}if("select"==l)return j(e);if("checkbox"==l){var i='input[type="checkbox"][name="'.concat(e.name,'"]'),o=Array.from(document.querySelectorAll(i));return"setting"===t&&1==o.length?S(o[0]):o.filter((function(e){return e.checked})).map(C)}return e.value}(t.target,"setting");e(O.UPDATE_FIELD,{prop:n,value:r,scope:l})}const T=(0,r.aZ)({name:"xform-bs-text",props:{field:{type:l.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(){return{value:(0,E.Hg)()}}}),U=(0,w.Z)(T,[["render",function(e,t,n,l,i,o){return(0,r.wy)(((0,r.wg)(),(0,r.iD)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.value=t}),id:e.field.uid,name:e.field.name,type:"text",class:"form-control form-control-sm",placeholder:e.field.placeholder,disabled:e.disabled||e.field.disabled},null,8,P)),[[W.nr,e.value]])}]]);var I={class:"xform-bs-field-setting-prop"},A=(0,r._)("header",null,"默认值：",-1);n(9070);var Z={class:"xform-bs-field-setting-head"},q={class:"xform-bs-field-setting-prop"},R=(0,r._)("header",null,"标题：",-1),N={key:0,class:"xform-bs-field-setting-prop"},F=(0,r._)("header",null,"提示：",-1),L={key:1,class:"xform-bs-field-setting-prop"},M=(0,r._)("header",null,"属性：",-1),H={key:0,class:"form-check form-check-inline"},B=["id","name"],Y=["for"],z={class:"form-check form-check-inline"},K=["id","name"],Q=["for"],X={class:"form-check form-check-inline"},$=["id","name"],G=["for"];var J={class:"xform-bs-field-setting-prop"},ee=(0,r._)("span",{title:"如果满足配置的条件则显示字段，否则隐藏字段"},"逻辑：",-1),te={class:"xform-bs-logic-main"},ne={class:"xform-bs-logic-panel xform-is-scroll"},le={class:"xform-bs-logic-common-rule"},re=(0,r._)("h5",null,"通用规则",-1),ie={key:0,class:"text-secondary"},oe=["onClick"],ae={class:"xform-bs-logic-field-rule"},ue=(0,r._)("strong",null,"字段规则",-1),se={key:0},ce=["onClick"],de={key:0,class:"xform-bs-logic-field-rule-tip"},fe={key:1},pe={key:0,class:"text-secondary"},me=["onClick"],be={class:"xform-bs-logic-graph xform-is-scroll"},ve={key:0,class:"bg-danger text-white xform-bs-logic-errors"};n(7042),n(4916),n(2165),n(6992),n(3948),n(2526),n(1817),n(9826),n(9753),n(4812),n(2772),n(561),n(2564);var ye=["id"],ge={class:"modal-content"},he={class:"modal-header"},xe={key:0,class:"modal-title"},we={class:"modal-body"},ke={class:"modal-footer"},_e={key:0,class:"modal-footer-left"};var We=1e4;function Pe(){var e=null,t="xbs-modal__".concat(We++);function n(t){if(null!=e){var n=e._element;n.addEventListener("hidden.bs.modal",(function e(){n.removeEventListener("hidden.bs.modal",e),"function"==typeof t&&t()})),e.hide()}}return{id:t,show:function(){var n;n=document.getElementById(t),(e=null==n?null:new window.bootstrap.Modal(n,{backdrop:"static",keyboard:!1}))&&e.show()},hide:n,destroy:function(){var t=function(){e.dispose(),e=null};if(null!=e)return e._isShown?n(t):void t()}}}const Ee=(0,r.aZ)({name:"modal",inheritAttrs:!1,props:{title:{type:String,default:null},visible:{type:Boolean,default:!1},width:{type:String,default:"640px"}},emits:["update:visible","confirm","closed"],setup:function(e,t){var n=t.emit,l=(0,b.iH)(!1),i=Pe();function o(){n("update:visible",!1)}return(0,r.YP)((function(){return e.visible}),(function(){e.visible?(l.value=!0,(0,r.Y3)((function(){return i.show()}))):i.hide((function(){l.value=!1,n("closed")}))})),(0,r.Jd)((function(){i.destroy(),o()})),{id:i.id,close:o,confirm:function(){n("confirm")},rendered:l}}}),Oe=(0,w.Z)(Ee,[["render",function(e,t,n,l,o,a){return(0,r.wg)(),(0,r.j4)(r.lR,{to:"body"},[e.rendered?((0,r.wg)(),(0,r.iD)("div",(0,r.dG)({key:0,class:"modal fade xform-bs-modal",id:e.id},e.$attrs),[(0,r._)("div",{class:"modal-dialog modal-dialog-centered",style:(0,i.j5)({width:e.width})},[(0,r._)("div",ge,[(0,r._)("div",he,[(0,r.WI)(e.$slots,"header",{},(function(){return[e.title?((0,r.wg)(),(0,r.iD)("h5",xe,(0,i.zw)(e.title),1)):(0,r.kq)("",!0)]})),(0,r._)("button",{type:"button",class:"btn-close shadow-none",onClick:t[0]||(t[0]=function(){return e.close&&e.close.apply(e,arguments)})})]),(0,r._)("div",we,[(0,r.WI)(e.$slots,"default")]),(0,r._)("div",ke,[e.$slots["footer-left"]?((0,r.wg)(),(0,r.iD)("div",_e,[(0,r.WI)(e.$slots,"footer-left")])):(0,r.kq)("",!0),(0,r._)("button",{type:"button",class:"btn btn-sm btn-link btn-text",onClick:t[1]||(t[1]=function(){return e.close&&e.close.apply(e,arguments)})},"关闭"),(0,r._)("button",{type:"button",class:"btn btn-sm btn-primary",onClick:t[2]||(t[2]=function(){return e.confirm&&e.confirm.apply(e,arguments)})},"保存")])])],4)],16,ye)):(0,r.kq)("",!0)])}]]);var De;function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return je(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,r=function(){};return{s:r,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}var Ve=(0,l.hS)().BuiltInLogicOperator,Te=[Ve.AND,Ve.OR,Ve.NOT];function Ue(e){var t=(0,l.jQ)(e);return null!=t&&!0===t.hasCondition}function Ie(e){var t,n=(0,l.jQ)(e);return null==n?"N/A":null!==(t=n.description)&&void 0!==t?t:n.label}function Ae(e){return Ue(e)?(0,r.Wm)("header",null,[(0,r.Uk)("如果"),(0,r.Wm)("strong",null,[Ie(e)]),(0,r.Uk)("条件被满足：")]):null}function Ze(e,t){if(!Array.isArray(e.condition)||0==e.condition.length)return null;var n,l=Ce(e.condition);try{for(l.s();!(n=l.n()).done;){var r=n.value;if(r==t)return e;var i=Ze(r,t);if(null!=i)return i}}catch(e){l.e(e)}finally{l.f()}return null}function qe(e){if(null==e)return null;var t=e.condition;if(Array.isArray(t)){if(0==t.length)return!1;var n,l=Ce(t);try{for(l.s();!(n=l.n()).done;){var r=qe(n.value);if(r)return r}}catch(e){l.e(e)}finally{l.f()}}return!!e.name&&!(e.operator!=Ve.EMPTY&&!e.value)}var Re=(0,r.aZ)({name:"logic-rule-preview",props:{rule:{type:Object,default:null},field:{type:l.Wi,required:!0}},emits:["choose"],setup:function(e){var t=(0,l.j9)();function n(e,n){n.stopPropagation(),null!=e&&t.chooseField(e)}function i(t){var l,i;if(Ue(t.operator))return null;var o=null===(l=e.field.parent)||void 0===l?void 0:l.find(t.name),a=null!=o?(0,r.Wm)("a",{href:"javascript:;",onClick:n.bind(null,o)},[o.title]):(0,r.Wm)("strong",null,[(0,r.Uk)("N/A")]);return(0,r.Wm)("div",{class:"xform-bs-logic-preview-content"},[(0,r.Wm)("span",null,[(0,r.Uk)("如果")]),a,(0,r.Wm)("span",null,[(0,r.Uk)("的值")]),(0,r.Wm)("strong",null,[Ie(t.operator)]),t.operator==Ve.EMPTY?null:(0,r.Wm)("strong",null,[null!==(i=t.value)&&void 0!==i?i:"N/A"])])}return function(){var t=e.rule;if(null==t)return(0,r.Wm)("span",{class:"xform-bs-logic-rule-preview text-secondary"},[(0,r.Uk)("该字段尚未配置逻辑，请先添加一条规则")]);var n=Ue(t.operator),l={"xform-bs-logic-rule-preview":!0,"has-condition":n},o=n?Array.isArray(t.condition)&&t.condition.length>0?t.condition.map((function(t){return(0,r.Wm)((0,r.up)("logic-rule-preview"),{rule:t,field:e.field},null)})):(0,r.Wm)("div",{class:"xform-bs-logic-rule-preview text-secondary"},[(0,r.Uk)("请先添加一条子规则")]):null;return(0,r.Wm)("div",{class:l},[Ae(t.operator),i(t),o])}}}),Ne=(0,r.aZ)({name:"logic-rule",props:{rule:{type:Object,default:null},selected:{type:Object,default:null},first:{type:String,default:null},last:{type:String,default:null},parent:{type:Object,default:null},field:{type:l.Wi,required:!0}},emits:["select","remove"],setup:function(e,t){var n=t.emit;function i(e){n("select",e)}function o(e){n("remove",e)}function a(t){t.stopPropagation(),i(e.rule)}function u(t){t.stopPropagation(),o(e.rule)}function s(t){t.stopPropagation();var n=e.parent;if(null!=n){var l=e.rule,r=n.condition,i=r.indexOf(l),o=r.splice(i,1)[0];r.splice(i-1,0,o)}}function c(t){t.stopPropagation();var n=e.parent;if(null!=n){var l=e.rule,r=n.condition,i=r.indexOf(l),o=r.splice(i+1,1)[0];r.splice(i,0,o)}}function d(t){return t?(0,r.Wm)("div",{class:"xform-bs-logic-rule-buttons"},["N"===e.first&&(0,r.Wm)("a",{href:"javascript:;",onClick:s,class:"text-primary"},[(0,r.Uk)("上移")]),"N"===e.last&&(0,r.Wm)("a",{href:"javascript:;",onClick:c,class:"text-primary"},[(0,r.Uk)("下移")]),(0,r.Wm)("a",{href:"javascript:;",onClick:u,class:"text-danger"},[(0,r.Uk)("删除")])]):null}return function(){var t=e.rule;if(null==t)return(0,r.Wm)("div",{class:"xform-bs-logic-empty"},[(0,r.Uk)("请先添加一条规则")]);var n=e.selected==e.rule,u=Ue(t.operator),s={"xform-bs-logic-rule":!0,"has-condition":u,"is-selected":n},c=u?Array.isArray(t.condition)&&t.condition.length>0?t.condition.map((function(n,l){return(0,r.Wm)((0,r.up)("logic-rule"),{rule:n,field:e.field,selected:e.selected,onSelect:i,onRemove:o,first:0==l?"Y":"N",last:l==t.condition.length-1?"Y":"N",parent:t},null)})):(0,r.Wm)("div",{class:"xform-bs-logic-tips"},[(0,r.Uk)("请先添加一条子规则")]):null,f=Ae(t.operator),p=function(e,t){if(Ue(e.operator))return null;var n=e.operator==Ve.EMPTY?null:(0,r.wy)((0,r.Wm)("input",{type:"text",class:"form-control",placeholder:"目标值","onUpdate:modelValue":function(t){return e.value=t}},null),[[W.nr,e.value]]),i=t.previous().find((function(t){return t.name==e.name})),o=(0,l.jQ)(e.operator);return(0,r.Wm)("div",{class:"xform-bs-logic-rule-content"},[(0,r.Wm)("span",null,[(0,r.Uk)("如果")]),(0,r.Wm)("strong",null,[i?i.title:"N/A"]),(0,r.Wm)("span",null,[(0,r.Uk)("的值")]),(0,r.Wm)("strong",null,[o.label]),n])}(t,e.field);return(0,r.Wm)("div",{class:s,onClick:a},[f,p,d(n),c])}}});const Fe=(0,r.aZ)({name:"field-logic",props:{field:{type:l.Wi,required:!0}},setup:function(e){var t=(0,l.j9)(),n=(0,b.iH)(!1),i=(0,b.iH)(null),o=(0,b.iH)(null),a=(0,b.iH)(null),u=(0,b.iH)(null),s=(0,b.iH)(!1),c=(0,b.Fl)((function(){return null==o.value&&null!=i.value||null!=o.value&&!Ue(o.value.operator)}));var d=(0,b.Fl)((function(){return e.field.previous().filter((function(e){var t,n=null===(t=e.conf)||void 0===t?void 0:t.operators;return!(!1===n||Array.isArray(n)&&0==n.length)}))})),f=(0,b.Fl)((function(){var e;if(null==a.value)return[];var t=null===(e=a.value.conf)||void 0===e?void 0:e.operators;return(0,l.vU)(Array.isArray(t)?t:null).filter((function(e){return Te.indexOf(e.value)<0}))}));return{commonOperators:(0,b.Fl)((function(){return(0,l.vU)(Te)})),disabled:c,errorMessage:u,logic:i,fieldOperators:f,previousFields:d,selectedField:a,selectedRule:o,showErrorMessage:s,visible:n,add:function(e){var t=a.value;a.value=null;var n=function(e,t){return Ue(e)?{operator:e,condition:[]}:{operator:e,name:t.name,value:null}}(e,t);if(null==i.value)return i.value=n,void(o.value=n);Ue(o.value.operator)?o.value.condition.push(n):o.value=n},remove:function(){var e=o.value;if(i.value==e)i.value=null;else{var t=Ze(i.value,e),n=t.condition.indexOf(e);n>=0&&t.condition.splice(n,1)}o.value=null},save:function(){if(!1===qe(i.value)){var l=!1;if(t.emit("message",{type:"logic.validate",valid:!1,title:"字段逻辑验证失败",content:(0,r.Wm)("div",{class:"xform-bs-logic-error-content"},[(0,r.Wm)("h5",null,[(0,r.Uk)("如果存在以下未填写字段，请先补全：")]),(0,r.Wm)("p",null,[(0,r.Uk)("-"),(0,r.Wm)("strong",null,[(0,r.Uk)("目标字段")])]),(0,r.Wm)("p",null,[(0,r.Uk)("-"),(0,r.Wm)("strong",null,[(0,r.Uk)("目标值")])]),(0,r.Wm)("p",null,[(0,r.Uk)("-"),(0,r.Wm)("strong",null,[(0,r.Uk)("子规则")])])]),message:"如果存在以下未填写字段，请先补全：\n - 目标字段\n - 目标值\n - 子规则",preventDefault:function(){return l=!0}}),l)return;return u.value="字段逻辑验证失败，请补全以下内容：目标字段、目标值、子规则",s.value=!0,setTimeout((function(){s.value=!1}),3500)}t.updateField(e.field,{prop:"logic",value:i.value}),n.value=!1},selectField:function(e){c.value||(a.value=e)},selectRule:function(e){o.value=e,a.value=null},showModal:function(){var t,l=JSON.parse(JSON.stringify(null!==(t=e.field.logic)&&void 0!==t?t:null));i.value=l,o.value=l,a.value=null,n.value=!0}}},components:(De={},Se(De,Oe.name,Oe),Se(De,Ne.name,Ne),Se(De,Re.name,Re),De)}),Le=(0,w.Z)(Fe,[["render",function(e,t,n,l,o,a){var u=(0,r.up)("logic-rule-preview"),s=(0,r.up)("logic-rule"),c=(0,r.up)("modal");return(0,r.wg)(),(0,r.iD)("section",J,[(0,r._)("header",null,[ee,(0,r._)("button",{type:"button",class:"btn btn-link btn-text is-logic-btn",onClick:t[0]||(t[0]=function(){return e.showModal&&e.showModal.apply(e,arguments)})},"配置")]),(0,r.Wm)(u,{rule:e.field.logic,field:e.field},null,8,["rule","field"]),(0,r.Wm)(c,{title:"配置逻辑",width:"840px",class:"xform-bs-logic-modal",visible:e.visible,"onUpdate:visible":t[2]||(t[2]=function(t){return e.visible=t}),onConfirm:e.save},{"footer-left":(0,r.w5)((function(){return[e.showErrorMessage?((0,r.wg)(),(0,r.iD)("div",ve,(0,i.zw)(e.errorMessage),1)):(0,r.kq)("",!0)]})),default:(0,r.w5)((function(){return[(0,r._)("div",te,[(0,r._)("div",ne,[(0,r._)("div",le,[re,(0,r._)("div",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.commonOperators,(function(t){return(0,r.wg)(),(0,r.iD)("div",{key:t.value,class:(0,i.C_)(["xform-bs-logic-operator",{"xform-is-disabled":e.disabled}])},[(0,r._)("strong",null,(0,i.zw)(t.label),1),t.code?((0,r.wg)(),(0,r.iD)("small",ie,(0,i.zw)(t.code),1)):(0,r.kq)("",!0),(0,r._)("button",{type:"button",class:"btn btn-link btn-text btn-sm",onClick:function(n){return e.add(t.value)}},"添加",8,oe)],2)})),128))])]),(0,r._)("div",ae,[(0,r._)("h5",null,[ue,null!=e.selectedField?((0,r.wg)(),(0,r.iD)("button",{key:0,type:"button",class:"btn btn-link btn-text",onClick:t[1]||(t[1]=function(t){return e.selectedField=null})},"返回")):(0,r.kq)("",!0)]),null==e.selectedField?((0,r.wg)(),(0,r.iD)("div",se,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.previousFields,(function(t){return(0,r.wg)(),(0,r.iD)("div",{key:t.name,class:(0,i.C_)(["xform-bs-logic-field",{"xform-is-selected":t==e.selectedField,"xform-is-disabled":e.disabled}]),onClick:function(n){return e.selectField(t)}},[(0,r._)("strong",null,(0,i.zw)(t.title),1)],10,ce)})),128)),0==e.previousFields.length?((0,r.wg)(),(0,r.iD)("div",de,"暂无可用的字段规则")):(0,r.kq)("",!0)])):(0,r.kq)("",!0),e.fieldOperators.length>0?((0,r.wg)(),(0,r.iD)("div",fe,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.fieldOperators,(function(t){return(0,r.wg)(),(0,r.iD)("div",{key:t.value,class:(0,i.C_)(["xform-bs-logic-operator",{"xform-is-disabled":e.disabled}])},[(0,r._)("strong",null,(0,i.zw)(t.label),1),t.code?((0,r.wg)(),(0,r.iD)("small",pe,(0,i.zw)(t.code),1)):(0,r.kq)("",!0),(0,r._)("button",{type:"button",class:"btn btn-link btn-text btn-sm",onClick:function(n){return e.add(t.value)}},"添加",8,me)],2)})),128))])):(0,r.kq)("",!0)])]),(0,r._)("div",be,[(0,r.Wm)(s,{rule:e.logic,field:e.field,selected:e.selectedRule,onSelect:e.selectRule,onRemove:e.remove},null,8,["rule","field","selected","onSelect","onRemove"])])])]})),_:1},8,["visible","onConfirm"])])}]]);const Me=(0,r.aZ)({name:"field-setting",props:{field:{type:l.Wi,required:!0},placeholder:{type:Boolean,default:!0},required:{type:Boolean,default:!0},logic:{type:Boolean,default:!0},attributes:{type:Boolean,default:!0}},setup:function(e){return{fieldRef:(0,b.Vh)(e,"field"),allowLogic:(0,b.Fl)((function(){return!0===(0,l.iE)().logic}))}},components:(He={},Be=Le.name,Ye=Le,Be in He?Object.defineProperty(He,Be,{value:Ye,enumerable:!0,configurable:!0,writable:!0}):He[Be]=Ye,He)});var He,Be,Ye;const ze=(0,w.Z)(Me,[["render",function(e,t,n,l,o,a){var u=(0,r.up)("field-logic");return(0,r.wg)(),(0,r.iD)("div",{class:(0,i.C_)("xform-bs-field-setting xform-bs-".concat(e.fieldRef.type,"-setting"))},[(0,r._)("h3",Z,(0,i.zw)(e.field.conf.title),1),(0,r._)("section",q,[R,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control form-control-sm",placeholder:"[必填] 请输入标题...","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.fieldRef.title=t})},null,512),[[W.nr,e.fieldRef.title]])]),e.placeholder?((0,r.wg)(),(0,r.iD)("section",N,[F,(0,r.wy)((0,r._)("textarea",{class:"form-control form-control-sm",placeholder:"[可选] 请输入提示信息...",rows:"3","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.fieldRef.placeholder=t})},null,512),[[W.nr,e.fieldRef.placeholder]])])):(0,r.kq)("",!0),e.attributes?((0,r.wg)(),(0,r.iD)("section",L,[M,e.required?((0,r.wg)(),(0,r.iD)("div",H,[(0,r.wy)((0,r._)("input",{id:"".concat(e.field.name,"-required"),name:"".concat(e.field.name,"-required"),type:"checkbox",class:"form-check-input","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.fieldRef.required=t})},null,8,B),[[W.e8,e.fieldRef.required]]),(0,r._)("label",{class:"form-check-label",for:"".concat(e.field.name,"-required"),title:"勾选则该字段在表单提交时必须填写"},"必填",8,Y)])):(0,r.kq)("",!0),(0,r._)("div",z,[(0,r.wy)((0,r._)("input",{id:"".concat(e.field.name,"-disabled"),name:"".concat(e.field.name,"-disabled"),type:"checkbox",class:"form-check-input","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.fieldRef.disabled=t})},null,8,K),[[W.e8,e.fieldRef.disabled]]),(0,r._)("label",{class:"form-check-label",for:"".concat(e.field.name,"-disabled"),title:"勾选则该字段在表单中无法编辑, 也不参与表单验证"},"禁用",8,Q)]),(0,r._)("div",X,[(0,r.wy)((0,r._)("input",{id:"".concat(e.field.name,"-hidden"),name:"".concat(e.field.name,"-hidden"),type:"checkbox",class:"form-check-input","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.fieldRef.hidden=t})},null,8,$),[[W.e8,e.fieldRef.hidden]]),(0,r._)("label",{class:"form-check-label",for:"".concat(e.field.name,"-hidden"),title:"勾选则该字段将不会再表单中显示"},"隐藏",8,G)]),(0,r.WI)(e.$slots,"attributes")])):(0,r.kq)("",!0),(0,r.WI)(e.$slots,"default"),e.allowLogic?((0,r.wg)(),(0,r.j4)(u,{key:2,field:e.fieldRef,"onUpdate:field":t[5]||(t[5]=function(t){return e.fieldRef=t})},null,8,["field"])):(0,r.kq)("",!0)],2)}]]);var Ke=(0,l.hS)().EVENTS;const Qe=(0,r.aZ)({name:"xform-bs-text-setting",props:{field:l.Wi},emits:[Ke.UPDATE_FIELD],setup:function(){return{compatValue:(0,E.Xu)([]).useCompatValue()}},components:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},ze.name,ze)}),Xe=(0,w.Z)(Qe,[["render",function(e,t,n,l,i,o){var a=(0,r.up)("field-setting");return(0,r.wg)(),(0,r.j4)(a,{field:e.field},{default:(0,r.w5)((function(){return[(0,r._)("section",I,[A,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.compatValue=t}),placeholder:"[可选] 如果字段没有填写，默认为设定的值"},null,512),[[W.nr,e.compatValue]])])]})),_:1},8,["field"])}]]);var $e=(0,l.hS)().BuiltInLogicOperator;const Ge=l.w1.create({icon:_.Z,type:"text",title:"单行文本",setting:Xe,build:U,validator:function(e,t){return e.required&&(0,l.xb)(t)?Promise.reject("必填"):Promise.resolve()},operators:[$e.EQ,$e.NE,$e.EMPTY,$e.CONTAINS]});var Je=n(3923),et=["id","name","placeholder","disabled"];const tt=(0,r.aZ)({name:"xform-bs-textarea",props:{field:{type:l.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(){return{value:(0,E.Hg)()}}}),nt=(0,w.Z)(tt,[["render",function(e,t,n,l,i,o){return(0,r.wy)(((0,r.wg)(),(0,r.iD)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.value=t}),id:e.field.uid,rows:"3",name:e.field.name,class:"form-control form-control-sm",placeholder:e.field.placeholder,disabled:e.disabled||e.field.disabled},null,8,et)),[[W.nr,e.value]])}]]);var lt={class:"xform-bs-field-setting-prop"},rt=(0,r._)("header",null,"默认值：",-1);var it=(0,l.hS)().EVENTS;const ot=(0,r.aZ)({name:"xform-bs-textarea-setting",props:{field:l.Wi},emits:[it.UPDATE_FIELD],setup:function(){return{compatValue:(0,E.Xu)([]).useCompatValue()}},components:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},ze.name,ze)}),at=(0,w.Z)(ot,[["render",function(e,t,n,l,i,o){var a=(0,r.up)("field-setting");return(0,r.wg)(),(0,r.j4)(a,{field:e.field},{default:(0,r.w5)((function(){return[(0,r._)("section",lt,[rt,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.compatValue=t}),placeholder:"[可选] 如果字段没有填写，默认为设定的值"},null,512),[[W.nr,e.compatValue]])])]})),_:1},8,["field"])}]]);var ut=(0,l.hS)().BuiltInLogicOperator;const st=l.w1.create({icon:Je.Z,type:"textarea",title:"多行文本",setting:at,build:nt,validator:function(e,t){return e.required&&(0,l.xb)(t)?Promise.reject("必填"):Promise.resolve()},operators:[ut.EQ,ut.NE,ut.EMPTY,ut.CONTAINS]});var ct=n(4874),dt={class:"xform-bs-field-setting-prop"},ft=(0,r._)("header",null,"默认值：",-1),pt={class:"form-check form-check-inline"},mt=["id","name"],bt=["for"];var vt=(0,l.hS)().EVENTS;const yt=(0,r.aZ)({name:"xform-bs-number-setting",props:{field:l.Wi},emits:[vt.UPDATE_FIELD],setup:function(){var e=(0,E.Xu)([]);return{integer:(0,E.Et)("integer","attributes"),compatValue:e.useCompatValue()}},components:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},ze.name,ze)}),gt=(0,w.Z)(yt,[["render",function(e,t,n,l,i,o){var a=(0,r.up)("field-setting");return(0,r.wg)(),(0,r.j4)(a,{field:e.field},{attributes:(0,r.w5)((function(){return[(0,r._)("div",pt,[(0,r.wy)((0,r._)("input",{id:"".concat(e.field.name,"-integer"),name:"".concat(e.field.name,"-integer"),type:"checkbox",class:"form-check-input","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.integer=t})},null,8,mt),[[W.e8,e.integer]]),(0,r._)("label",{class:"form-check-label",for:"".concat(e.field.name,"-integer"),title:"勾选则只允许输入整数"},"整数",8,bt)])]})),default:(0,r.w5)((function(){return[(0,r._)("section",dt,[ft,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.compatValue=t}),placeholder:"[可选] 如果字段没有填写，默认为设定的值"},null,512),[[W.nr,e.compatValue,void 0,{number:!0}]])])]})),_:1},8,["field"])}]]);var ht=(0,l.hS)().BuiltInLogicOperator,xt=(0,r.aZ)({name:"xform-bs-number",props:{field:{type:l.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e){var t=(0,E.Hg)();return function(){return(0,r.wy)((0,r.Wm)("input",{id:e.field.uid,name:e.field.name,type:"number","onUpdate:modelValue":function(e){return t.value=e},class:"form-control form-control-sm",placeholder:e.field.placeholder,disabled:e.disabled||e.field.disabled},null),[[W.nr,t.value,void 0,{number:!0}]])}}});const wt=l.w1.create({icon:ct.Z,type:"number",title:"数字",setting:gt,build:xt,validator:function(e,t){return e.required&&(0,l.xb)(t)?Promise.reject("必填"):e.attributes.integer&&!/^[-+]?[1-9]?\d+$/.test(t+"")?Promise.reject("请输入整数"):Promise.resolve()},operators:[ht.LT,ht.LTE,ht.GT,ht.GTE,ht.EQ,ht.NE,ht.EMPTY]});var kt=n(1871),_t=["id","name","disabled"],Wt={class:"xform-bs-is-placeholer",value:""},Pt=["value"];const Et=(0,r.aZ)({name:"xform-bs-select",props:{field:{type:l.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(){var e=(0,E.Hg)("");return{value:e,className:(0,b.Fl)((function(){return{"form-select":!0,"form-select-sm":!0,"xform-bs-select":!0,"xform-bs-is-empty":null==e||"string"==typeof e.value&&0==e.value.length}}))}}}),Ot=(0,w.Z)(Et,[["render",function(e,t,n,l,o,a){return(0,r.wy)(((0,r.wg)(),(0,r.iD)("select",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.value=t}),id:e.field.uid,name:e.field.name,class:(0,i.C_)(e.className),disabled:e.disabled||e.field.disabled},[(0,r._)("option",Wt,"---- "+(0,i.zw)(e.field.placeholder||"请选择")+" ----",1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.field.options,(function(e){return(0,r.wg)(),(0,r.iD)("option",{key:e.value,value:e.value},(0,i.zw)(e.value),9,Pt)})),128))],10,_t)),[[W.bM,e.value]])}]]);var Dt={class:"xform-bs-field-setting-prop"},St=(0,r._)("header",null,"选项：",-1),Ct=["value","onInput"],jt=["onClick","disabled"],Vt={class:"xform-bs-field-setting-prop"},Tt=(0,r._)("header",null,"默认值：",-1),Ut=["value"],It=(0,r._)("option",{value:""},"-- 请选择--",-1),At=["value"];n(5212),n(7941),n(5003),n(9337),n(3321);function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rt=(0,l.hS)(),Nt=Rt.BuiltInDefaultValueType,Ft=Rt.EVENTS;const Lt=(0,r.aZ)({name:"xform-bs-select-setting",props:{field:l.Wi},emits:[Ft.UPDATE_FIELD],setup:function(){var e=[{value:Nt.MANUAL,label:"手动指定"},{value:Nt.OPTION_FIRST,label:"首选项"}],t=(0,E.D2)((function(){if(!l.value)return;var e=t.options.value,n=i.value;i.value=e.some((function(e){return e.value==n}))?n:void 0})),n=(0,E.Xu)(e),l=n.useIsManual(),r=n.useCompatType(),i=n.useCompatValue((function(e){return e.value||""}));return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach((function(t){qt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({compatType:r,compatValue:i,defTypes:e,isManual:l},t)},components:qt({},ze.name,ze)}),Mt={classes:{defaultValue:"E1FyER20LQA8qPAs1uyM"}},Ht=(0,w.Z)(Lt,[["render",function(e,t,n,l,o,a){var u=(0,r.up)("field-setting");return(0,r.wg)(),(0,r.j4)(u,{field:e.field},{default:(0,r.w5)((function(){return[(0,r._)("section",Dt,[St,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.options,(function(t,n){return(0,r.wg)(),(0,r.iD)("div",{key:n,class:"xform-bs-setting-option"},[(0,r._)("input",{value:t.value,class:"form-control form-control-sm",placeholder:"请输入选项内容",onInput:function(n){return e.updateOption(n,t)}},null,40,Ct),(0,r._)("button",{type:"button",class:"btn btn-link btn-text text-danger",onClick:function(n){return e.removeOption(t)},disabled:e.field.options.length<=1},"删除",8,jt)])})),128)),(0,r._)("button",{type:"button",class:"btn btn-link btn-text btn-sm p-0",onClick:t[0]||(t[0]=function(){return e.addOption&&e.addOption.apply(e,arguments)})},"添加选项")]),(0,r._)("section",Vt,[Tt,(0,r._)("div",{class:(0,i.C_)(e.classes.defaultValue)},[(0,r.wy)((0,r._)("select",{class:"form-select form-select-sm","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.compatType=t})},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.defTypes,(function(e,t){return(0,r.wg)(),(0,r.iD)("option",{key:t,value:e.value},(0,i.zw)(e.label||e.value),9,Ut)})),128))],512),[[W.bM,e.compatType]]),e.isManual?(0,r.wy)(((0,r.wg)(),(0,r.iD)("select",{key:0,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.compatValue=t}),class:"form-select form-select-sm"},[It,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.options,(function(e,t){return(0,r.wg)(),(0,r.iD)("option",{key:t,value:e.value},(0,i.zw)(e.label||e.value),9,At)})),128))],512)),[[W.bM,e.compatValue]]):(0,r.kq)("",!0)],2)])]})),_:1},8,["field"])}],["__cssModules",Mt]]);var Bt=(0,l.hS)().BuiltInLogicOperator;const Yt=l.w1.create({icon:kt.Z,type:"select",title:"下拉选择",setting:Ht,build:Ot,validator:function(e,t){return e.required&&(0,l.xb)(t)?Promise.reject("必填"):Promise.resolve()},onCreate:function(e,t,n){var l=Array.isArray(t.options)?t.options:[];n&&l.push({value:"选项1"}),e.options=l},operators:[Bt.EQ,Bt.NE,Bt.EMPTY,Bt.CONTAINS]});var zt=n(3684),Kt={class:"xform-bs-radio"},Qt=["id","name","value","disabled"],Xt=["for"];const $t=(0,r.aZ)({name:"xform-bs-radio",props:{field:{type:l.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e){return{value:(0,E.Hg)(),radioClassName:(0,b.Fl)((function(){var t=["form-check"];return"inline"==e.field.attributes.layout&&t.push("form-check-inline"),t}))}}}),Gt=(0,w.Z)($t,[["render",function(e,t,n,l,o,a){return(0,r.wg)(),(0,r.iD)("div",Kt,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.field.options,(function(n,l){return(0,r.wg)(),(0,r.iD)("div",{key:l,class:(0,i.C_)(e.radioClassName)},[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.value=t}),id:e.field.uid+"_"+l,name:e.field.name,value:n.value,type:"radio",class:"form-check-input",disabled:e.disabled||e.field.disabled},null,8,Qt),[[W.G2,e.value]]),(0,r._)("label",{class:"form-check-label",for:e.field.uid+"_"+l},(0,i.zw)(n.value),9,Xt)],2)})),128))])}]]);var Jt={class:"xform-bs-field-setting-prop"},en=(0,r._)("header",null,"布局：",-1),tn={class:"btn-group",role:"group"},nn={class:"xform-bs-field-setting-prop"},ln=(0,r._)("header",null,"选项：",-1),rn=["value","onInput"],on=["onClick","disabled"],an={class:"xform-bs-field-setting-prop"},un=(0,r._)("header",null,"默认值：",-1),sn=["value"],cn=(0,r._)("option",{value:""},"-- 请选择--",-1),dn=["value"];function fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mn=(0,l.hS)(),bn=mn.BuiltInDefaultValueType,vn=mn.EVENTS;const yn=(0,r.aZ)({name:"xform-bs-radio-setting",props:{field:l.Wi},emits:[vn.UPDATE_FIELD],setup:function(){var e=[{value:bn.MANUAL,label:"手动指定"},{value:bn.OPTION_FIRST,label:"首选项"}],t=(0,E.D2)((function(){if(!l.value)return;var e=t.options.value,n=i.value;i.value=e.some((function(e){return e.value==n}))?n:void 0})),n=(0,E.Xu)(e),l=n.useIsManual(),r=n.useCompatType(),i=n.useCompatValue((function(e){return e.value||""}));return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(n),!0).forEach((function(t){pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({compatType:r,compatValue:i,defTypes:e,isManual:l},t)},components:pn({},ze.name,ze)}),gn={classes:{defaultValue:"Tdu0o5PinAbDTTM14aHf"}},hn=(0,w.Z)(yn,[["render",function(e,t,n,l,o,a){var u=(0,r.up)("field-setting");return(0,r.wg)(),(0,r.j4)(u,{field:e.field,placeholder:!1},{default:(0,r.w5)((function(){return[(0,r._)("section",Jt,[en,(0,r._)("div",tn,[(0,r._)("button",{type:"button",class:(0,i.C_)(["btn btn-sm btn-primary",{active:"inline"==e.field.attributes.layout}]),onClick:t[0]||(t[0]=function(t){return e.update("layout","inline","attributes")})}," 行内 ",2),(0,r._)("button",{type:"button",class:(0,i.C_)(["btn btn-sm btn-primary",{active:"block"==e.field.attributes.layout}]),onClick:t[1]||(t[1]=function(t){return e.update("layout","block","attributes")})}," 换行 ",2)])]),(0,r._)("section",nn,[ln,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.options,(function(t,n){return(0,r.wg)(),(0,r.iD)("div",{key:n,class:"xform-bs-setting-option"},[(0,r._)("input",{value:t.value,class:"form-control form-control-sm",placeholder:"请输入选项内容",onInput:function(n){return e.updateOption(n,t)}},null,40,rn),(0,r._)("button",{type:"button",class:"btn btn-link btn-text text-danger",onClick:function(n){return e.removeOption(t)},disabled:e.options.length<=1},"删除",8,on)])})),128)),(0,r._)("button",{type:"button",class:"btn btn-sm btn-link btn-text p-0",onClick:t[2]||(t[2]=function(){return e.addOption&&e.addOption.apply(e,arguments)})},"添加选项")]),(0,r._)("section",an,[un,(0,r._)("div",{class:(0,i.C_)(e.classes.defaultValue)},[(0,r.wy)((0,r._)("select",{class:"form-select form-select-sm","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.compatType=t})},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.defTypes,(function(e,t){return(0,r.wg)(),(0,r.iD)("option",{key:t,value:e.value},(0,i.zw)(e.label||e.value),9,sn)})),128))],512),[[W.bM,e.compatType]]),e.isManual?(0,r.wy)(((0,r.wg)(),(0,r.iD)("select",{key:0,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.compatValue=t}),class:"form-select form-select-sm"},[cn,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.options,(function(e,t){return(0,r.wg)(),(0,r.iD)("option",{key:t,value:e.value},(0,i.zw)(e.label||e.value),9,dn)})),128))],512)),[[W.bM,e.compatValue]]):(0,r.kq)("",!0)],2)])]})),_:1},8,["field"])}],["__cssModules",gn]]);var xn=(0,l.hS)().BuiltInLogicOperator;const wn=l.w1.create({icon:zt.Z,type:"radio",title:"单选",setting:hn,build:Gt,validator:function(e,t){return e.required&&(0,l.xb)(t)?Promise.reject("必填"):Promise.resolve()},onCreate:function(e,t,n){var l=Array.isArray(t.options)?t.options:[];n&&(l.push({value:"选项1"}),e.attributes.layout="inline"),e.options=l},operators:[xn.EQ,xn.NE,xn.EMPTY,xn.CONTAINS]});var kn=n(1683),_n={class:"xform-bs-checkbox"},Wn=["id","name","value","disabled"],Pn=["for"];const En=(0,r.aZ)({name:"xform-bs-checkbox",props:{field:{type:l.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e){return{value:(0,E.Hg)([]),className:(0,b.Fl)((function(){var t=["form-check"];return"inline"==e.field.attributes.layout&&t.push("form-check-inline"),t}))}}}),On=(0,w.Z)(En,[["render",function(e,t,n,l,o,a){return(0,r.wg)(),(0,r.iD)("div",_n,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.field.options,(function(n,l){return(0,r.wg)(),(0,r.iD)("div",{key:l,class:(0,i.C_)(e.className)},[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.value=t}),id:e.field.uid+"_"+l,name:e.field.name,value:n.value,type:"checkbox",class:"form-check-input",disabled:e.disabled||e.field.disabled},null,8,Wn),[[W.e8,e.value]]),(0,r._)("label",{class:"form-check-label",for:e.field.uid+"_"+l},(0,i.zw)(n.value),9,Pn)],2)})),128))])}]]);var Dn={class:"xform-bs-field-setting-prop"},Sn=(0,r._)("header",null,"布局：",-1),Cn={class:"btn-group",role:"group"},jn={class:"xform-bs-field-setting-prop"},Vn=(0,r._)("header",null,"选项：",-1),Tn=["value","onInput"],Un=["onClick","disabled"],In={class:"xform-bs-field-setting-prop"},An=(0,r._)("header",null,"默认值：",-1),Zn=["value"],qn=["value"];function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fn=(0,l.hS)(),Ln=Fn.BuiltInDefaultValueType,Mn=Fn.EVENTS;const Hn=(0,r.aZ)({name:"xform-bs-checkbox-setting",props:{field:l.Wi},emits:[Mn.UPDATE_FIELD],setup:function(){var e=[{value:Ln.MANUAL,label:"手动指定"},{value:Ln.OPTION_ALL,label:"全部选项"}],t=(0,E.D2)((function(){if(!l.value)return;var e=t.options.value,n=i.value;i.value=n.filter((function(t){return e.some((function(e){return e.value==t}))}))})),n=(0,E.Xu)(e),l=n.useIsManual(),r=n.useCompatType(),i=n.useCompatValue((function(e){var t=e.value;return Array.isArray(t)?t:[]}));return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(n),!0).forEach((function(t){Nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({compatType:r,compatValue:i,defTypes:e,isManual:l},t)},components:Nn({},ze.name,ze)}),Bn={classes:{defaultValue:"zLuBVcQjbTZ59ihLRg3l"}},Yn=(0,w.Z)(Hn,[["render",function(e,t,n,l,o,a){var u=(0,r.up)("field-setting");return(0,r.wg)(),(0,r.j4)(u,{field:e.field,placeholder:!1},{default:(0,r.w5)((function(){return[(0,r._)("section",Dn,[Sn,(0,r._)("div",Cn,[(0,r._)("button",{type:"button",class:(0,i.C_)(["btn btn-sm btn-primary",{active:"inline"==e.field.attributes.layout}]),onClick:t[0]||(t[0]=function(t){return e.update("layout","inline","attributes")})}," 行内 ",2),(0,r._)("button",{type:"button",class:(0,i.C_)(["btn btn-sm btn-primary",{active:"block"==e.field.attributes.layout}]),onClick:t[1]||(t[1]=function(t){return e.update("layout","block","attributes")})}," 换行 ",2)])]),(0,r._)("section",jn,[Vn,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.options,(function(t,n){return(0,r.wg)(),(0,r.iD)("div",{key:n,class:"xform-bs-setting-option"},[(0,r._)("input",{value:t.value,class:"form-control form-control-sm",placeholder:"请输入选项内容",onInput:function(n){return e.updateOption(n,t)}},null,40,Tn),(0,r._)("button",{type:"button",class:"btn btn-link btn-text text-danger",onClick:function(n){return e.removeOption(t)},disabled:e.field.options.length<=1},"删除",8,Un)])})),128)),(0,r._)("button",{type:"button",class:"btn btn-link btn-text btn-sm p-0",onClick:t[2]||(t[2]=function(){return e.addOption&&e.addOption.apply(e,arguments)})},"添加选项")]),(0,r._)("section",In,[An,(0,r._)("div",{class:(0,i.C_)(e.classes.defaultValue)},[(0,r.wy)((0,r._)("select",{class:"form-select form-select-sm","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.compatType=t})},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.defTypes,(function(e,t){return(0,r.wg)(),(0,r.iD)("option",{key:t,value:e.value},(0,i.zw)(e.label||e.value),9,Zn)})),128))],512),[[W.bM,e.compatType]]),e.isManual?(0,r.wy)(((0,r.wg)(),(0,r.iD)("select",{key:0,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.compatValue=t}),class:"form-select form-select-sm",multiple:""},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.options,(function(e,t){return(0,r.wg)(),(0,r.iD)("option",{key:t,value:e.value},(0,i.zw)(e.label||e.value),9,qn)})),128))],512)),[[W.bM,e.compatValue]]):(0,r.kq)("",!0)],2)])]})),_:1},8,["field"])}],["__cssModules",Bn]]);var zn=(0,l.hS)().BuiltInLogicOperator;const Kn=l.w1.create({icon:kn.Z,type:"checkbox",title:"多选",setting:Yn,build:On,validator:function(e,t){return e.required&&(0,l.xb)(t)?Promise.reject("必填"):Promise.resolve()},onCreate:function(e,t,n){var l=Array.isArray(t.options)?t.options:[];n&&(l.push({value:"选项1"}),e.attributes.layout="inline"),e.options=l},operators:[zn.EQ,zn.NE,zn.EMPTY,zn.CONTAINS]});var Qn=n(6113),Xn=["id","name","placeholder","disabled"];const $n=(0,r.aZ)({name:"xform-bs-date",props:{field:{type:l.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(){return{value:(0,E.Hg)()}}}),Gn=(0,w.Z)($n,[["render",function(e,t,n,l,i,o){return(0,r.wy)(((0,r.wg)(),(0,r.iD)("input",{id:e.field.uid,name:e.field.name,type:"date","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.value=t}),class:"form-control form-control-sm",placeholder:e.field.placeholder,disabled:e.disabled||e.field.disabled},null,8,Xn)),[[W.nr,e.value]])}]]);var Jn={class:"xform-bs-field-setting-prop"},el=(0,r._)("header",null,[(0,r._)("label",{class:"xform-bs-label",title:"如果字段没有填写，默认为设定的值"},"默认值：")],-1),tl=["value"];var nl=(0,l.hS)(),ll=nl.BuiltInDefaultValueType,rl=nl.EVENTS;const il=(0,r.aZ)({name:"xform-bs-date-setting",props:{field:l.Wi},emits:[rl.UPDATE_FIELD],setup:function(){var e=[{value:ll.MANUAL,label:"手动指定"},{value:ll.DATE_NOW,label:"当前时间"}],t=(0,E.Xu)(e);return{isManual:t.useIsManual(),compatType:t.useCompatType(),compatValue:t.useCompatValue(),defTypes:e}},components:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},ze.name,ze)}),ol={classes:{defaultValue:"ejuvZIVBqq9Vo0QoxcRn"}},al=(0,w.Z)(il,[["render",function(e,t,n,l,o,a){var u=(0,r.up)("field-setting");return(0,r.wg)(),(0,r.j4)(u,{field:e.field,placeholder:!1},{default:(0,r.w5)((function(){return[(0,r._)("section",Jn,[el,(0,r._)("div",{class:(0,i.C_)(e.classes.defaultValue)},[(0,r.wy)((0,r._)("select",{class:"form-select form-select-sm","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.compatType=t})},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.defTypes,(function(e,t){return(0,r.wg)(),(0,r.iD)("option",{key:t,value:e.value},(0,i.zw)(e.label||e.value),9,tl)})),128))],512),[[W.bM,e.compatType]]),e.isManual?(0,r.wy)(((0,r.wg)(),(0,r.iD)("input",{key:0,type:"date","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.compatValue=t}),class:"form-control form-control-sm",placeholder:"请选择默认时间"},null,512)),[[W.nr,e.compatValue]]):(0,r.kq)("",!0)],2)])]})),_:1},8,["field"])}],["__cssModules",ol]]);var ul=(0,l.hS)().BuiltInLogicOperator;const sl=l.w1.create({icon:Qn.Z,type:"date",title:"日期",setting:al,build:Gn,validator:function(e,t){return e.required&&(0,l.xb)(t)?Promise.reject("必填"):Promise.resolve()},operators:[ul.LT,ul.LTE,ul.GT,ul.GTE,ul.EQ,ul.NE,ul.EMPTY]});var cl=n(2209);var dl=n(898);const fl=(0,r.aZ)({name:"xform-bs-divider",inheritAttrs:!1,props:{field:{type:l.Wi,required:!0}},components:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},dl.Z.name,dl.Z)}),pl=(0,w.Z)(fl,[["render",function(e,t,n,l,i,o){var a=(0,r.up)("xform-divider");return(0,r.wg)(),(0,r.j4)(a,{class:"xform-item",title:e.field.title,layout:e.field.attributes.layout,type:e.field.attributes.type,top:e.field.attributes.top,bottom:e.field.attributes.bottom},null,8,["title","layout","type","top","bottom"])}]]);var ml={class:"xform-bs-field-setting-prop xform-divider-types"},bl=(0,r._)("header",null,"样式：",-1),vl=["id","value","checked","onChange"],yl=["for"],gl={class:"xform-bs-field-setting-prop"},hl=(0,r._)("header",null,"间距：",-1),xl={class:"xform-bs-divider-range"},wl=(0,r._)("label",null,"上间距：",-1),kl=["value"],_l={class:"xform-bs-divider-range"},Wl=(0,r._)("label",null,"下间距：",-1),Pl=["value"];var El;n(1058);function Ol(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dl=(0,l.hS)().EVENTS;const Sl=(0,r.aZ)({name:"xform-bs-divider-setting",props:{field:l.Wi},emits:[Dl.UPDATE_FIELD],setup:function(e,t){var n=t.emit;function l(e,t,l){n(Dl.UPDATE_FIELD,{prop:e,value:t,scope:l})}return{types:["solid","dashed","double","solid-dashed","dashed-solid"],update:l,updateField:function(e,t,n){var r=e.target;l(t,parseInt(r.value),n)}}},components:(El={},Ol(El,dl.Z.name,dl.Z),Ol(El,ze.name,ze),El)}),Cl=(0,w.Z)(Sl,[["render",function(e,t,n,l,i,o){var a=(0,r.up)("xform-divider"),u=(0,r.up)("field-setting");return(0,r.wg)(),(0,r.j4)(u,{field:e.field,placeholder:!1,attributes:!1},{default:(0,r.w5)((function(){return[(0,r._)("section",ml,[bl,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.types,(function(t){return(0,r.wg)(),(0,r.iD)("div",{key:t,class:"form-check"},[(0,r._)("input",{id:"divider-".concat(t),name:"setting-divider-type",type:"radio",value:t,class:"form-check-input",checked:e.field.attributes.type==t,onChange:function(n){return e.update("type",t,"attributes")}},null,40,vl),(0,r._)("label",{class:"form-check-label",for:"divider-".concat(t)},[(0,r.Wm)(a,{type:t},null,8,["type"])],8,yl)])})),128))]),(0,r._)("section",gl,[hl,(0,r._)("div",xl,[wl,(0,r._)("input",{value:e.field.attributes.top,type:"range",class:"form-range",min:"0",max:"100",step:"5",onInput:t[0]||(t[0]=function(t){return e.updateField(t,"top","attributes")})},null,40,kl)]),(0,r._)("div",_l,[Wl,(0,r._)("input",{value:e.field.attributes.bottom,type:"range",class:"form-range",min:"0",max:"100",step:"5",onInput:t[1]||(t[1]=function(t){return e.updateField(t,"bottom","attributes")})},null,40,Pl)])])]})),_:1},8,["field"])}]]),jl=l.w1.create({icon:cl.Z,type:"divider",title:"分割线",custom:!0,setting:Cl,build:pl,view:pl,onCreate:function(e,t,n){n&&(e.attributes.type="solid",e.attributes.top=0,e.attributes.bottom=0)},operators:!1});n(5827),n(4819),n(3593),n(7314);var Vl=n(1993),Tl={class:"form-check form-check-inline",title:"勾选则支持展开/收起分组"},Ul=["id","name","checked"],Il=["for"];var Al=(0,l.hS)().EVENTS;const Zl=(0,r.aZ)({name:"xform-bs-group-setting",props:{field:l.Wi},emits:[Al.UPDATE_FIELD],setup:function(e,t){var n=t.emit;return{updateField:V.bind(null,n)}},components:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},ze.name,ze)}),ql=(0,w.Z)(Zl,[["render",function(e,t,n,l,i,o){var a=(0,r.up)("field-setting");return(0,r.wg)(),(0,r.j4)(a,{field:e.field,placeholder:!1,required:!1},{attributes:(0,r.w5)((function(){return[(0,r._)("div",Tl,[(0,r._)("input",{id:"".concat(e.field.name,"-collapsable"),name:"".concat(e.field.name,"-collapsable"),checked:e.field.attributes.collapsable,type:"checkbox",class:"form-check-input",onInput:t[0]||(t[0]=function(t){return e.updateField(t,"collapsable","attributes")})},null,40,Ul),(0,r._)("label",{class:"form-check-label",for:"".concat(e.field.name,"-collapsable")},"允许收起",8,Il)])]})),_:1},8,["field"])}]]);function Rl(e){return Rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(e)}function Nl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fl=(0,l.hS)(),Ll=Fl.SELECTOR,Ml=Fl.CLASS,Hl=Fl.EnumBehavior,Bl=Fl.PROPS,Yl=Fl.EnumValidateMode,zl=Fl.EnumValidityState,Kl="xform-bs-group-list",Ql=".".concat(Kl);function Xl(){var e=(0,b.iH)(!1);function t(){e.value=!e.value}return{collasped:e,renderHeader:function(n){if(null==n.title)return null;var l=!0===n.attributes.collapsable?(0,r.Wm)("button",{type:"button",title:e.value?"展开":"收起",class:"btn btn-link btn-text xform-bs-group-toggle",onClick:t},[e.value?"展开":"收起"]):null;return(0,r.Wm)("h6",{class:"card-header"},[(0,r.Wm)("span",null,[n.title]),l])}}}var $l=(0,r.aZ)({name:"xform-bs-group",props:{field:{type:l.Wi,required:!0},behavior:{type:String,default:null},disabled:{type:Boolean,default:!1}},setup:function(e){var t=Xl(),n=t.collasped,i=t.renderHeader,o=(0,l.j9)().renderField;return function(){var t,l,a=e.field.value,u=e.field.fields,s=e.behavior==Hl.DESIGNER,c=e.field.validation.message,d=e.disabled,f=Nl({"xform-item":!0,"xform-bs-group":!0,"xform-is-collasped":n.value},Ml.IS_ERROR,e.field.validation.valid==zl.ERROR),p=s&&0==u.length?(0,r.Wm)("p",{class:[Ml.IS_EMPTY_TIP,"xform-bs-empty-tip"]},[(0,r.Uk)("请将左侧控件拖动到此处")]):null,m=(l={class:(t={"card-body":!0},Nl(t,Kl,!0),Nl(t,Ml.DROPPABLE,s),Nl(t,Ml.SCOPE,!0),t)},Nl(l,"."+Bl.FIELD,s?e.field:void 0),Nl(l,"."+Bl.SCOPE,e.field),l),b=u.map((function(e){return o(s?e:a[e.name],{parentProps:{disabled:d}})}));return(0,r.Wm)("div",{class:f},[(0,r.Wm)("div",{class:"card"},[i(e.field),(0,r.Wm)("div",m,[p,b])]),c&&(0,r.Wm)("p",{class:"xform-item-message"},[c])])}}}),Gl=(0,r.aZ)({name:"xform-bs-group-view",props:{field:{type:l.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e){var t=(0,l.j9)().renderField,n=Xl(),i=n.collasped,o=n.renderHeader;return function(){var n=e.field.value,l=e.field.fields,a={"xform-item":!0,"xform-bs-group":!0,"xform-is-collasped":i.value};return(0,r.Wm)("div",{class:a},[(0,r.Wm)("div",{class:"card"},[o(e.field),(0,r.Wm)("div",{class:["card-body",Kl]},[l.map((function(l){return t(n[l.name],{parentProps:{disabled:e.disabled}})}))])])])}}});const Jl=l.w1.create({icon:Vl.Z,type:"group",title:"分组",custom:!0,preview:$l,setting:ql,build:$l,view:Gl,onDragOver:function(e){var t=e.currentTarget;if(t.matches(Ql)){e.stopPropagation(),e.preventDefault();var n=e.context,l=n.directionY,r=n.moveMarkEl,i=e.dragElement.contains(t);r(l,i?e.dragElement:e.target,i?e.dragElement.parentElement.closest(Ll.DROPPABLE):t)}},onDrop:function(e){e.currentTarget.matches(Ll.SCOPE)&&e.stopPropagation()},onValueInit:function(e,t){var n=null==t||"object"!=Rl(t)?{}:t;return e.fields.reduce((function(t,l){var r=l.clone(!0);return r.setValue(n[l.name]),r.setParent(e),t[l.name]=r,t}),{})},onValueSubmit:function(e){var t=e.value;if(null!=t&&"object"==Rl(t)&&0!=Object.keys(t).length)return e.fields.map((function(e){return e.name})).reduce((function(e,n){var l=Reflect.get(t,n,t);if(null!=l){var r=l.conf,i="function"==typeof(null==r?void 0:r.onValueSubmit)?r.onValueSubmit(l):l.value;Reflect.set(e,n,i,e)}return e}),{})},validator:function(e,t,n){var l=e.value,r=Object.keys(l).map((function(e){var t=l[e];return n.mode==Yl.RECURSIVE?t.validate({mode:Yl.RECURSIVE}):t.invalid?Promise.reject():Promise.resolve()}));return Promise.allSettled(r).then((function(e){return e.some((function(e){return"rejected"===e.status}))?Promise.reject("请补全必填内容"):Promise.resolve()}))},operators:!1});n(6541),n(9600);var er=n(3720);function tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nr=(0,l.hS)(),lr=nr.SELECTOR,rr=nr.CLASS,ir=nr.PROPS,or=nr.EnumValidateMode;const ar=l.w1.create({type:"tabs.pane",title:"标签面板",custom:!0,scoped:!0,build:(0,r.aZ)({name:"xform-bs-tabs-pane",props:{field:{type:l.Wi,required:!0},behavior:{type:String,default:null},disabled:{type:Boolean,default:!1}},setup:function(e){return function(){var t,n,i,o=(0,l.j9)(),a=e.field.fields,u=null!==(t=e.field.value)&&void 0!==t?t:{},s="designer"==e.behavior,c="designer"==e.behavior&&0==a.length?(0,r.Wm)("p",{class:[rr.IS_EMPTY_TIP,"xform-bs-empty-tip"]},[(0,r.Uk)("请将左侧控件拖动到此处")]):a.map((function(t){return o.renderField(s?t:u[t.name],{parentProps:{disabled:e.disabled}})})),d=(i={class:(n={"tab-pane":!0},tr(n,rr.DROPPABLE,!0),tr(n,rr.SCOPE,!0),n)},tr(i,"."+ir.FIELD,e.field),tr(i,"."+ir.SCOPE,e.field),i);return(0,r.Wm)("div",d,[c])}}}),view:(0,r.aZ)({name:"xform-bs-tabs-pane-view",props:{field:{type:l.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e){var t,n=(0,l.j9)(),i=null!==(t=e.field.value)&&void 0!==t?t:{};return function(){var t=e.field.fields;return(0,r.Wm)("div",{class:"tab-pane"},[t.map((function(t){return n.renderField(i[t.name],{parentProps:{disabled:e.disabled}})}))])}}}),onDragOver:function(e){var t=e.currentTarget;e.stopPropagation(),e.preventDefault();var n=e.context,l=n.directionY,r=n.moveMarkEl,i=e.dragElement.contains(t);r(l,i?e.dragElement:e.target,i?e.dragElement.parentElement.closest(lr.DROPPABLE):t)},onDrop:function(e){e.stopPropagation()},onValueInit:function(e,t){var n=null!=t?t:{};return e.fields.reduce((function(t,l){var r=l.name,i=l.clone(!0);return i.setValue(n[r]),i.setParent(e),t[r]=i,t}),{})},onValueSubmit:function(e){var t,n=null!==(t=e.value)&&void 0!==t?t:{};return e.fields.map((function(e){return e.name})).reduce((function(e,t){var l,r=n[t],i=null===(l=r.conf)||void 0===l?void 0:l.onValueSubmit;return e[t]="function"==typeof i?i(r):r.value,e}),{})},validator:function(e,t,n){var l=Object.values(null!=t?t:{}).map((function(e){return n.mode==or.RECURSIVE?e.validate({mode:or.RECURSIVE}):e.invalid?Promise.reject():Promise.resolve()}));return Promise.allSettled(l).then((function(t){return t.some((function(e){return"rejected"===e.status}))?Promise.reject("请补全标签页[".concat(e.title,"]必填内容")):Promise.resolve()}))}});function ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sr=(0,l.hS)(),cr=sr.CLASS,dr=sr.EnumValidityState,fr=sr.EVENTS,pr=(0,r.aZ)({name:"xform-bs-tabs-setting",props:{field:{type:l.Wi,required:!0}},emits:[fr.UPDATE_FIELD],setup:function(e){var t=(0,E.Et)("hideTitle","attributes");function n(){var t=e.field,n=new l.Wi(ar);n.title="标签".concat(e.field.fields.length+1),t.fields.push(n)}function i(t){var n=e.field.fields;if(!(n.length<=1)){var l=n.indexOf(t);l>=0&&n.splice(l,1)}}function o(e,t){e.title=t.target.value}function a(t){var n=e.field.fields,l=n.splice(t,1)[0];n.splice(t-1,0,l)}function u(t){var n=e.field.fields,l=n.splice(t+1,1)[0];n.splice(t,0,l)}return function(){var l=e.field,s=l.fields.map((function(e,t){var n=l.fields.length;return(0,r.Wm)("div",{class:"xform-bs-setting-option"},[(0,r.Wm)("input",{type:"text",class:"form-control form-control-sm",placeholder:"请输入标签名称",value:e.title,onInput:o.bind(null,e)},null),(0,r.Wm)("button",{type:"button",class:"btn btn-link btn-text",onClick:a.bind(null,t),disabled:0==t},[(0,r.Uk)("上移")]),(0,r.Wm)("button",{type:"button",class:"btn btn-link btn-text",onClick:u.bind(null,t),disabled:t==n-1},[(0,r.Uk)("下移")]),(0,r.Wm)("button",{type:"button",class:"btn btn-link btn-text text-danger",onClick:i.bind(null,e),disabled:n<=1},[(0,r.Uk)("删除")])])})),c={default:function(){return(0,r.Wm)("div",{class:"xform-bs-field-setting-prop"},[(0,r.Wm)("header",null,[(0,r.Uk)("标签：")]),s,(0,r.Wm)("button",{type:"button",class:"btn btn-link btn-sm btn-text p-0",onClick:n},[(0,r.Uk)("添加标签")])])},attributes:function(){return(0,r.Wm)("div",{class:"form-check form-check-inline"},[(0,r.wy)((0,r.Wm)("input",{type:"checkbox",class:"form-check-input",id:"".concat(l.name,"-hide-title"),name:"".concat(l.name,"-hide-title"),"onUpdate:modelValue":function(e){return t.value=e}},null),[[W.e8,t.value]]),(0,r.Wm)("label",{class:"form-check-label",for:"".concat(l.name,"-hide-title"),title:"勾选则不显示标题"},[(0,r.Uk)("隐藏标题")])])}};return(0,r.Wm)((0,r.up)("field-setting"),{field:l,placeholder:!1,required:!1},c)}},components:ur({},ze.name,ze)});function mr(e){return e.validation.valid!==dr.ERROR?null:(0,r.Wm)("p",{class:"xform-item-message"},[e.validation.message])}var br=(0,r.aZ)({name:"xform-bs-tabs",props:{field:{type:l.Wi,required:!0},behavior:{type:String,default:null},disabled:{type:Boolean,default:!1}},setup:function(e){var t=(0,b.iH)(e.field.fields[0].name),n=(0,r.FN)();function i(e,n){n.preventDefault(),t.value=e.name}function o(e){var t=(0,l.am)(n.refs,"scroll"),r=(0,l.am)(n.refs,"list");if(!(r.offsetWidth<=t.offsetWidth)){e.preventDefault();var i=function(e,t,n){var r=(0,l.fN)(e).pixelY+(t.__offset__||0);return r<0?0:r>t.offsetWidth-n.offsetWidth?t.offsetWidth-n.offsetWidth:r}(e,r,t);r.__offset__=i,r.style.transform="translateX(".concat(-i,"px)")}}var a=(0,r.YP)(e.field.fields,(function(e){e.every((function(e){return e.name!=t.value}))&&(t.value=e[e.length-1].name)}));return(0,r.Jd)(a),function(){var n,a=(0,l.j9)(),u=e.field,s=null!==(n=u.value)&&void 0!==n?n:{},c=!0===u.attributes.hideTitle?null:(0,r.Wm)("strong",{class:"nav-tabs-title"},[u.title]),d=e.disabled,f=u.fields.map((function(e){var n={"nav-link":!0,active:t.value==e.name};return(0,r.Wm)("a",{class:n,href:"javascript:;",onClick:i.bind(null,e)},[e.title])})),p=u.fields.map((function(n){return a.renderField("designer"==e.behavior?n:s[n.name],{parentProps:{disabled:d},renderContent:function(e,i){return i.class=(0,l.C_)(i.class,{active:t.value==n.name}),(0,r.h)(e,i)},renderPreivew:function(e,t,n,l){return l()}})})),m=ur({"xform-item":!0,"xform-bs-tabs":!0},cr.IS_ERROR,u.invalid);return(0,r.Wm)("div",{class:m},[(0,r.Wm)("div",{class:"nav nav-tabs"},[c,(0,r.Wm)("div",{class:"xform-bs-tabs-scroll",onWheel:o,ref:"scroll"},[(0,r.Wm)("div",{class:"xform-bs-tab-list",ref:"list"},[f])])]),(0,r.Wm)("div",{class:"tab-content"},[p]),mr(u)])}}});const vr=l.w1.create({type:"tabs",title:"标签页",icon:er.Z,custom:!0,setting:pr,build:br,view:br,dependencies:[ar],onCreate:function(e,t,n){if(n){var r=new l.Wi(ar);r.title="标签".concat(e.fields.length+1),e.push(r)}},onValueInit:function(e,t){var n=null!=t?t:{};return e.fields.reduce((function(t,l){var r=l.name,i=l.clone(!0);return i.setValue(n[r]),i.setParent(e),t[r]=i,t}),{})},onValueSubmit:function(e){var t,n=null!==(t=e.value)&&void 0!==t?t:{};return e.fields.map((function(e){return e.name})).reduce((function(e,t){var l,r=n[t],i=null===(l=r.conf)||void 0===l?void 0:l.onValueSubmit;return e[t]="function"==typeof i?i(r):r.value,e}),{})},validator:function(e,t,n){var l=Object.values(null!=t?t:{}).map((function(e){return e.validate({mode:n.mode})}));return Promise.allSettled(l).then((function(e){var t=e.map((function(e){return"rejected"==e.status?e.reason:null})).filter((function(e){return e}));return t.length>0?Promise.reject(t.join("\n")):Promise.resolve()}))},operators:!1});n(2222);var yr=n(9704),gr=150,hr="xform-bs-datatable-columns";function xr(e,t){var n=(0,b.iH)(!1),i=(0,r.FN)(),o=(0,l.I_)(),a=(0,b.iH)(null),u=(0,l.j9)(),s=null;function c(e){s=e,p()}function d(){s=null,p()}function f(e){n.value=e}function p(){var t=function(e,t){return null==t?{}:e.reduce((function(e,n){var l,r=t[n.name],i=null===(l=r.conf)||void 0===l?void 0:l.onValueSubmit;return e[n.name]="function"==typeof i?i(r):r.value,e}),{})}(e.field.fields,s),l=e.field.fields.map((function(e){return e.clone(!0)}));a.value=o.value.genSchema({fields:l},t),n.value=!0}function m(){n.value=!1}function v(){var n=i.refs.form;if(null==n)return m();n.validate().then((function(n){var l,r,i;n.valid&&(null==s?(l=n.model,r=e.field.fields.reduce((function(t,n){var r=n.clone(!0);return r.setValue(l[n.name]),r.setParent(e.field),t[n.name]=r,t}),{}),(i=t.value).push(r),t.value=i):function(t){e.field.fields.forEach((function(e){var n=e.name;s[n].value=t[n]})),s=null}(n.model),m())}))}function y(e){var n=t.value,l=n.indexOf(e);l>=0&&(n.splice(l,1),t.value=n)}function g(e,t,n){return e>0?null:t?(0,r.Wm)("div",{class:"xform-bs-datatable-tip",style:"width: ".concat(n,"px")},[(0,r.Uk)("暂无数据")]):(0,r.Wm)("div",{class:"xform-bs-datatable-tip",style:"width: ".concat(n,"px")},[(0,r.Wm)("span",null,[(0,r.Uk)("点击")]),(0,r.Wm)("button",{type:"button",class:"btn btn-link btn-text btn-sm shadow-none",onClick:d},[(0,r.Uk)("+ 添加")]),(0,r.Wm)("span",null,[(0,r.Uk)("按钮插入数据")])])}return(0,r.Jd)((function(){a.value=null,s=null})),function(){var l,i=e.field.fields.filter((function(e){return!0!==e.hidden}));if(0==i.length)return(0,r.Wm)("div",{class:"xform-is-unknown"},[(0,r.Uk)("请放入至少一个字段")]);var p=e.disabled||e.field.disabled,m=null!==(l=e.field.attributes.colWidths)&&void 0!==l?l:{},b=i.reduce((function(e,t){var n,l=null!==(n=m[t.name])&&void 0!==n?n:gr;return e.total+=l,e.cols.push((0,r.Wm)("col",{style:{width:"".concat(l,"px")}},null)),e}),{cols:[],total:60}),h=b.cols,x=b.total,w=t.value.map((function(e,t){var n=i.map((function(t){var n=e[t.name],l=u.renderField(n,{parentProps:{disabled:p},renderItem:function(e,t){return t.custom=!0,(0,r.h)(e,t,(function(){var e;return null!==(e=n.value)&&void 0!==e?e:o.value.viewerPlaceholder}))}});return(0,r.Wm)("td",null,[l])})),l=p?null:(0,r.Wm)("td",{class:"xform-bs-datatable-operate"},[(0,r.Wm)("button",{type:"button",class:"btn btn-link btn-text shadow-none",onClick:c.bind(null,e)},[(0,r.Uk)("编辑")]),(0,r.Wm)("button",{type:"button",class:"btn btn-link btn-text text-danger shadow-none",onClick:y.bind(null,e)},[(0,r.Uk)("删除")])]);return(0,r.Wm)("tr",{class:"xform-bs-datatable-row"},[(0,r.Wm)("td",{class:"xform-bs-datatable-index"},[t+1]),n,l])})),k=x+(p?0:100),_=p?"#":(0,r.Wm)("button",{type:"button",class:"btn btn-sm btn-link btn-text shadow-none",onClick:d},[(0,r.Uk)("添加")]),W=(0,r.Wm)("table",{class:"table table-hover",style:"width: ".concat(k,"px")},[(0,r.Wm)("colgroup",null,[(0,r.Wm)("col",{style:"width: ".concat(60,"px")},null),h,p?null:(0,r.Wm)("col",{style:"width: ".concat(100,"px")},null)]),(0,r.Wm)("thead",null,[(0,r.Wm)("th",{class:"xform-bs-datatable-index"},[_]),i.map((function(e){var t={"xform-bs-datatable-cell":!0,"xform-is-required":!p&&!e.disabled&&e.required};return(0,r.Wm)("th",{class:t},[(0,r.Wm)("span",null,[e.title])])})),p?null:(0,r.Wm)("th",{class:"xform-bs-datatable-operate"},[(0,r.Uk)("操作")])]),(0,r.Wm)("tbody",null,[w])]);return(0,r.Wm)("div",{class:"xform-bs-datatable","data-layout":"modal"},[(0,r.Wm)("div",{class:"table-responsive"},[W,g(w.length,p,k)]),(0,r.Wm)((0,r.up)("modal"),(0,r.dG)({title:"".concat(null==s?"添加":"编辑","数据"),class:"xform-bs-datatable-modal-layout",onConfirm:v},{visible:n.value,"onUpdate:visible":f}),{default:function(){return[(0,r.Wm)((0,r.up)("xform-builder"),{schema:a.value,ref:"form",onSubmit:v},{default:function(){return[(0,r.Wm)("button",{class:"xform-is-hidden",type:"submit"},null)]}})]}})])}}var wr={class:"form-check form-check-inline"},kr=["id","name"],_r=["for"],Wr={class:"xform-bs-field-setting-prop"},Pr=(0,r._)("header",null,"表单布局：",-1),Er={class:"btn-group",role:"group"},Or={class:"xform-bs-field-setting-prop"},Dr=(0,r._)("header",null,"列宽：",-1),Sr=["placeholder","value","onInput"],Cr={key:0,class:"text-secondary"};var jr=(0,l.hS)().EVENTS;const Vr=(0,r.aZ)({name:"xform-bs-datatable-setting",props:{field:{type:l.Wi,required:!0}},emits:[jr.UPDATE_FIELD],setup:function(e,t){var n=t.emit;return{updateColWidth:function(t,l){var r=t.target,i=parseFloat(r.value),o=e.field.attributes.colWidths;o[l]=isNaN(i)?null:i,n(jr.UPDATE_FIELD,{prop:"colWidths",value:o,scope:"attributes"})},update:function(e,t,l){n(jr.UPDATE_FIELD,{value:t,prop:e,scope:l})},DEF_COLUMN_WIDTH:gr,getColumnWidth:function(t){return e.field.attributes.colWidths[t]},hideTitle:(0,E.Et)("hideTitle","attributes")}},components:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},ze.name,ze)}),Tr=(0,w.Z)(Vr,[["render",function(e,t,n,l,o,a){var u=(0,r.up)("field-setting");return(0,r.wg)(),(0,r.j4)(u,{field:e.field,placeholder:!1},{attributes:(0,r.w5)((function(){return[(0,r._)("div",wr,[(0,r.wy)((0,r._)("input",{id:"".concat(e.field.name,"-hide-title"),name:"".concat(e.field.name,"-hide-title"),type:"checkbox",class:"form-check-input","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.hideTitle=t})},null,8,kr),[[W.e8,e.hideTitle]]),(0,r._)("label",{class:"form-check-label",for:"".concat(e.field.name,"-hide-title"),title:"勾选则不显示标题"},"隐藏标题",8,_r)])]})),default:(0,r.w5)((function(){return[(0,r._)("section",Wr,[Pr,(0,r._)("div",Er,[(0,r._)("button",{type:"button",class:(0,i.C_)(["btn","btn-sm","btn-primary","modal"==e.field.attributes.layout?"active":null]),onClick:t[1]||(t[1]=function(t){return e.update("layout","modal","attributes")}),title:"选中则表单在弹出模态框中编辑"},"窗口",2),(0,r._)("button",{type:"button",class:(0,i.C_)(["btn","btn-sm","btn-primary","inline"==e.field.attributes.layout?"active":null]),onClick:t[2]||(t[2]=function(t){return e.update("layout","inline","attributes")}),title:"选中则表单在表格中直接编辑"},"行内",2)])]),(0,r._)("section",Or,[Dr,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.field.fields,(function(t){var n;return(0,r.wg)(),(0,r.iD)("div",{class:"xform-bs-datatable-column",key:t.uid},[(0,r._)("div",{class:"xform-bs-datatable-column-bar",style:(0,i.j5)({width:"".concat(null!==(n=e.getColumnWidth(t.name))&&void 0!==n?n:e.DEF_COLUMN_WIDTH,"px")})},null,4),(0,r._)("label",null,(0,i.zw)(t.title),1),(0,r._)("input",{type:"number",min:"0",placeholder:"默认宽度".concat(e.DEF_COLUMN_WIDTH),class:"form-control form-control-sm",value:e.getColumnWidth(t.name),onInput:function(n){return e.updateColWidth(n,t.name)}},null,40,Sr)])})),128)),0==e.field.fields.length?((0,r.wg)(),(0,r.iD)("div",Cr,"请至少放入一个字段")):(0,r.kq)("",!0)])]})),_:1},8,["field"])}]]);function Ur(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ir=(0,l.hS)(),Ar=Ir.CLASS,Zr=Ir.PROPS,qr=Ir.EVENTS,Rr=Ir.EnumValidateMode,Nr=(0,r.aZ)({name:"xform-bs-datatable-preview",props:{field:{type:l.Wi,required:!0}},setup:function(e){var t=(0,l.j9)();return function(){var n,l,i=e.field,o=i.fields,a=null!==(n=i.attributes.colWidths)&&void 0!==n?n:{},u=0==o.length?(0,r.Wm)("p",{class:"".concat(Ar.IS_EMPTY_TIP," xform-bs-empty-tip")},[(0,r.Uk)("请将左侧控件拖动到此处")]):o.map((function(e){return t.renderField(e,{renderItem:function(){var t,n={"xform-bs-datatable-cell":!0,"xform-is-required":e.required},l={width:"".concat(null!==(t=a[e.name])&&void 0!==t?t:gr,"px")};return(0,r.Wm)("div",{class:n,style:l},[(0,r.Wm)("span",null,[e.title])])}})})),s=(Ur(l={class:"".concat(hr," ").concat(Ar.DROPPABLE," ").concat(Ar.SCOPE)},"."+Zr.FIELD,e.field),Ur(l,"."+Zr.SCOPE,e.field),l);return(0,r.Wm)("div",{class:"xform-bs-datatable ".concat(Ar.IS_SCROLL," ").concat(Ar.IS_HORIZONTAL_SCROLL)},[(0,r.Wm)("div",s,[u])])}}}),Fr=(0,r.aZ)({name:"xform-bs-datatable",props:{field:{type:l.Wi,required:!0},disabled:{type:Boolean,default:!1}},emits:[qr.UPDATE_VALUE],setup:function(e){var t=(0,E.Hg)(),n=xr(e,t),i=function(e,t){var n=(0,l.j9)();function i(){var n=e.field.fields.reduce((function(t,n){var l=n.clone(!0);return l.setParent(e.field),t[n.name]=l,t}),{}),l=t.value;l.push(n),t.value=l}function o(e){var n=t.value,l=n.indexOf(e);l>=0&&(n.splice(l,1),t.value=n)}function a(e,t,n){return e>0?null:t?(0,r.Wm)("div",{class:"xform-bs-datatable-tip",style:"width: ".concat(n,"px")},[(0,r.Uk)("暂无数据")]):(0,r.Wm)("div",{class:"xform-bs-datatable-tip",style:"width: ".concat(n,"px")},[(0,r.Wm)("span",null,[(0,r.Uk)("点击")]),(0,r.Wm)("button",{type:"button",class:"btn btn-link btn-text btn-sm shadow-none",onClick:i},[(0,r.Uk)("+ 添加")]),(0,r.Wm)("span",null,[(0,r.Uk)("按钮插入数据")])])}return function(){var l,u=e.field.fields.filter((function(e){return!0!==e.hidden}));if(0==u.length)return(0,r.Wm)("div",{class:"xform-is-unknown"},[(0,r.Uk)("请放入至少一个字段")]);var s=e.disabled||e.field.disabled,c=null!==(l=e.field.attributes.colWidths)&&void 0!==l?l:{},d=u.reduce((function(e,t){var n,l=null!==(n=c[t.name])&&void 0!==n?n:gr;return e.total+=l,e.cols.push((0,r.Wm)("col",{style:{width:"".concat(l,"px")}},null)),e}),{cols:[],total:60}),f=d.cols,p=d.total,m=t.value.map((function(e,t){var l=u.map((function(t){var l=n.renderField(e[t.name],{parentProps:{disabled:s},renderItem:function(e,t,n){return t.label=!1,(0,r.h)(e,t,n)}});return(0,r.Wm)("td",null,[l])}));return(0,r.Wm)("tr",{class:"xform-bs-datatable-row"},[(0,r.Wm)("td",{class:"xform-bs-datatable-index"},[(0,r.Wm)("strong",null,[t+1]),s?null:(0,r.Wm)("button",{type:"button",class:"btn btn-link btn-text text-danger",onClick:o.bind(null,e)},[(0,r.Uk)("删除")])]),l])})),b=s?"#":(0,r.Wm)("button",{type:"button",class:"btn btn-link btn-text btn-sm shadow-none",onClick:i},[(0,r.Uk)("添加")]);return(0,r.Wm)("div",{class:"xform-bs-datatable","data-layout":"inline"},[(0,r.Wm)("div",{class:"table-responsive"},[(0,r.Wm)("table",{class:"table table-hover",style:{width:p+"px"}},[(0,r.Wm)("colgroup",null,[(0,r.Wm)("col",{style:"width: ".concat(60,"px")},null),f]),(0,r.Wm)("thead",null,[(0,r.Wm)("th",{class:"xform-bs-datatable-index"},[b]),u.map((function(e){var t={"xform-bs-datatable-cell":!0,"xform-is-required":!s&&!e.disabled&&e.required};return(0,r.Wm)("th",{class:t},[(0,r.Wm)("span",null,[e.title])])}))]),(0,r.Wm)("tbody",null,[m])]),a(m.length,s,p)])])}}(e,t);return function(){return"inline"==e.field.attributes.layout?i():n()}},components:Ur({},Oe.name,Oe)}),Lr=(0,r.aZ)({name:"xform-bs-datatable-view",props:{field:{type:l.Wi,required:!0},disabled:{type:Boolean,default:!1}},setup:function(e){var t=(0,E.Hg)(),n=(0,l.j9)(),i=(0,l.I_)();return function(){var l,o=e.field.fields;if(!Array.isArray(t.value)||0==t.value.length||0==o.length)return(0,r.Wm)("span",{class:"xform-viewer-value"},[i.value.viewerPlaceholder]);var a=null!==(l=e.field.attributes.colWidths)&&void 0!==l?l:{},u=o.reduce((function(e,t){var n,l=null!==(n=a[t.name])&&void 0!==n?n:gr;return e.total+=l,e.cols.push((0,r.Wm)("col",{style:"width: ".concat(l,"px")},null)),e}),{cols:[],total:60}),s=u.cols,c=u.total,d=t.value.map((function(t,l){var i=o.map((function(l){return(0,r.Wm)("td",null,[n.renderField(t[l.name],{parentProps:{disabled:e.disabled},renderItem:function(e,t,n){return n()}})])})),a=(0,r.Wm)("td",{class:"xform-bs-datatable-index"},[(0,r.Wm)("strong",null,[l+1])]);return(0,r.Wm)("tr",null,[a,i])}));return(0,r.Wm)("div",{class:"xform-bs-datatable xform-bs-datatable-view"},[(0,r.Wm)("div",{class:"table-responsive"},[(0,r.Wm)("table",{class:"table table-hover",style:{width:c+"px"}},[(0,r.Wm)("colgroup",null,[(0,r.Wm)("col",{style:"width: ".concat(60,"px")},null),s]),(0,r.Wm)("thead",null,[(0,r.Wm)("th",{class:"xform-bs-datatable-index"},[(0,r.Uk)("#")]),o.map((function(t){var n={"xform-bs-datatable-cell":!0,"xform-is-required":!e.disabled&&!t.disabled&&t.required};return(0,r.Wm)("th",{class:n},[(0,r.Wm)("span",null,[t.title])])}))]),(0,r.Wm)("tbody",null,[d])])])])}}});const Mr=l.w1.create({type:"datatable",title:"数据表格",icon:yr.Z,accept:["text","textarea","number","select","radio","checkbox","date"],setting:Tr,preview:Nr,build:Fr,view:Lr,onDragOver:function(e){var t=e.currentTarget;if(t.matches("."+hr)){e.stopPropagation(),e.preventDefault();var n=e.context,l=n.directionX,r=n.moveMarkEl,i=n.getRootScopeEl,o=e.dragElement.contains(t);r(l,o?e.dragElement:e.target,o?i():t)}},onDrop:function(e){e.stopPropagation()},onCreate:function(e,t,n){n&&(e.attributes.colWidths={},e.attributes.layout="modal")},onSubmit:function(e){var t,n,l=null!==(t=null===(n=e.attributes)||void 0===n?void 0:n.colWidths)&&void 0!==t?t:{},r=e.fields.map((function(e){return e.name}));for(var i in l)r.indexOf(i)<0&&delete l[i];return e},onValueInit:function(e,t){if(!Array.isArray(t))return[];var n=e.fields;return t.map((function(t){return n.reduce((function(n,l){var r=l.clone(!0);return r.setValue(t[l.name]),r.setParent(e),n[l.name]=r,n}),{})}))},onValueSubmit:function(e){if(Array.isArray(e.value)){var t=e.fields;return e.value.map((function(e){return t.map((function(e){return e.name})).reduce((function(t,n){var l,r=e[n],i=null===(l=r.conf)||void 0===l?void 0:l.onValueSubmit;return t[r.name]="function"==typeof i?i(r):r.value,t}),{})}))}},validator:function(e,t,n){if(e.required&&(0,l.xb)(t))return Promise.reject("必填");var r=t.reduce((function(e,t){return e.concat(Object.values(t))}),[]).map((function(e){return n.mode==Rr.RECURSIVE?e.validate({mode:Rr.RECURSIVE}):e.invalid?Promise.reject():Promise.resolve()}));return Promise.allSettled(r).then((function(e){return e.some((function(e){return"rejected"===e.status}))?Promise.reject("请补全必填内容"):Promise.resolve()}))},onValidate:function(e){return(0,l.xb)(e.title)?Promise.reject("标题为空"):0==e.fields.length?Promise.reject("至少需要一个字段"):Promise.resolve()},operators:!1});const Hr={name:"bootstrap",version:"0.7.0",install:function(){var e=(0,l.h_)(),t=[Kn,Mr,sl,jl,Jl,wt,wn,Yt,vr,Ge,st];return e.registerSlot("setting_form",k),e.registerField(t),function(){e.removeSlot("setting_form"),t.forEach(e.removeField)}}}},3009:(e,t,n)=>{var l=n(7854),r=n(7293),i=n(1702),o=n(1340),a=n(3111).trim,u=n(1361),s=l.parseInt,c=l.Symbol,d=c&&c.iterator,f=/^[+-]?0x/i,p=i(f.exec),m=8!==s(u+"08")||22!==s(u+"0x16")||d&&!r((function(){s(Object(d))}));e.exports=m?function(e,t){var n=a(o(e));return s(n,t>>>0||(p(f,n)?16:10))}:s},1058:(e,t,n)=>{var l=n(2109),r=n(3009);l({global:!0,forced:parseInt!=r},{parseInt:r})}}]);